var requirejs,require,define;!function(){var t={},e=function(e,i){return"number"!=typeof e&&"string"!=typeof e||1!=arguments.length?(e instanceof Array?e=n(e):(i=e,e=[]),void("function"==typeof i&&i.apply(this,e))):t[e]},n=function(e){for(var n=[],i=0;i<e.length;i++)n.push(t[e[i]]||null);return n},i=function(e,i,r){e instanceof Array?e=n(e):(r=i,i=e,e=[]),"function"==typeof i?t[r]=i.apply(this,e):t[r]=i};i.amd={jQuery:!0},require=e,requirejs=e,define=i}(this),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([1]))};e.amd=!0;var n={};!function(t,e){function n(t){return String(null===t||void 0===t?"":t)}function i(t){return t=n(t),u.test(t)?t.replace(r,"&amp;").replace(o,"&lt;").replace(s,"&gt;").replace(a,"&#39;").replace(c,"&quot;"):t}t.Template=function(t,n,i,r){this.r=t||this.r,this.c=i,this.options=r,this.text=n||"",this.buf=e?[]:""},t.Template.prototype={r:function(t,e,n){return""},v:i,t:n,render:function(t,e,n){return this.ri([t],e||{},n)},ri:function(t,e,n){return this.r(t,e,n)},rp:function(t,e,n,i){var r=n[t];return r?(this.c&&"string"==typeof r&&(r=this.c.compile(r,this.options)),r.ri(e,n,i)):""},rs:function(t,e,n){var i=t[t.length-1];if(!l(i))return void n(t,e,this);for(var r=0;r<i.length;r++)t.push(i[r]),n(t,e,this),t.pop()},s:function(t,e,n,i,r,o,s){var a;return l(t)&&0===t.length?!1:("function"==typeof t&&(t=this.ls(t,e,n,i,r,o,s)),a=""===t||!!t,!i&&a&&e&&e.push("object"==typeof t?t:e[e.length-1]),a)},d:function(t,e,n,i){var r=t.split("."),o=this.f(r[0],e,n,i),s=null;if("."===t&&l(e[e.length-2]))return e[e.length-1];for(var a=1;a<r.length;a++)o&&"object"==typeof o&&r[a]in o?(s=o,o=o[r[a]]):o="";return i&&!o?!1:(i||"function"!=typeof o||(e.push(s),o=this.lv(o,e,n),e.pop()),o)},f:function(t,e,n,i){for(var r=!1,o=null,s=!1,a=e.length-1;a>=0;a--)if(o=e[a],o&&"object"==typeof o&&t in o){r=o[t],s=!0;break}return s?(i||"function"!=typeof r||(r=this.lv(r,e,n)),r):i?!1:""},ho:function(t,e,n,i,r){var o=this.c,s=this.options;s.delimiters=r;var i=t.call(e,i);return i=null==i?String(i):i.toString(),this.b(o.compile(i,s).render(e,n)),!1},b:e?function(t){this.buf.push(t)}:function(t){this.buf+=t},fl:e?function(){var t=this.buf.join("");return this.buf=[],t}:function(){var t=this.buf;return this.buf="",t},ls:function(t,e,n,i,r,o,s){var a=e[e.length-1],c=null;if(!i&&this.c&&t.length>0)return this.ho(t,a,n,this.text.substring(r,o),s);if(c=t.call(a),"function"==typeof c){if(i)return!0;if(this.c)return this.ho(c,a,n,this.text.substring(r,o),s)}return c},lv:function(t,e,i){var r=e[e.length-1],o=t.call(r);return"function"==typeof o&&(o=n(o.call(r)),this.c&&~o.indexOf("{{"))?this.c.compile(o,this.options).render(r,i):n(o)}};var r=/&/g,o=/</g,s=/>/g,a=/\'/g,c=/\"/g,u=/[&<>\"\']/,l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}("undefined"!=typeof exports?exports:n,!0),function(t){function e(t){"}"===t.n.substr(t.n.length-1)&&(t.n=t.n.substring(0,t.n.length-1))}function n(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}function i(t,e,n){if(e.charAt(n)!=t.charAt(0))return!1;for(var i=1,r=t.length;r>i;i++)if(e.charAt(n+i)!=t.charAt(i))return!1;return!0}function r(t,e,n,i){for(var a=[],c=null,u=null;t.length>0;)if(u=t.shift(),"#"==u.tag||"^"==u.tag||o(u,i))n.push(u),u.nodes=r(t,u.tag,n,i),a.push(u);else{if("/"==u.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+u.n);if(c=n.pop(),u.n!=c.n&&!s(u.n,c.n,i))throw new Error("Nesting error: "+c.n+" vs. "+u.n);return c.end=u.i,a}a.push(u)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return a}function o(t,e){for(var n=0,i=e.length;i>n;n++)if(e[n].o==t.n)return t.tag="#",!0}function s(t,e,n){for(var i=0,r=n.length;r>i;i++)if(n[i].c==t&&n[i].o==e)return!0}function a(t){return t.replace(x,"\\\\").replace(v,'\\"').replace(b,"\\n").replace(y,"\\r")}function c(t){return~t.indexOf(".")?"d":"f"}function u(t){for(var e="",n=0,i=t.length;i>n;n++){var r=t[n].tag;"#"==r?e+=l(t[n].nodes,t[n].n,c(t[n].n),t[n].i,t[n].end,t[n].otag+" "+t[n].ctag):"^"==r?e+=d(t[n].nodes,t[n].n,c(t[n].n)):"<"==r||">"==r?e+=h(t[n]):"{"==r||"&"==r?e+=f(t[n].n,c(t[n].n)):"\n"==r?e+=m('"\\n"'+(t.length-1==n?"":" + i")):"_v"==r?e+=p(t[n].n,c(t[n].n)):void 0===r&&(e+=m('"'+a(t[n])+'"'))}return e}function l(t,e,n,i,r,o){return"if(_.s(_."+n+'("'+a(e)+'",c,p,1),c,p,0,'+i+","+r+',"'+o+'")){_.rs(c,p,function(c,p,_){'+u(t)+"});c.pop();}"}function d(t,e,n){return"if(!_.s(_."+n+'("'+a(e)+'",c,p,1),c,p,1,0,0,"")){'+u(t)+"};"}function h(t){return'_.b(_.rp("'+a(t.n)+'",c,p,"'+(t.indent||"")+'"));'}function f(t,e){return"_.b(_.t(_."+e+'("'+a(t)+'",c,p,0)));'}function p(t,e){return"_.b(_.v(_."+e+'("'+a(t)+'",c,p,0)));'}function m(t){return"_.b("+t+");"}var g=/\S/,v=/\"/g,b=/\n/g,y=/\r/g,x=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};t.scan=function(t,r){function o(){v.length>0&&(b.push(new String(v)),v="")}function s(){for(var t=!0,e=k;e<b.length;e++)if(t=b[e].tag&&w[b[e].tag]<w._v||!b[e].tag&&null===b[e].match(g),!t)return!1;return t}function a(t,e){if(o(),t&&s())for(var n,i=k;i<b.length;i++)b[i].tag||((n=b[i+1])&&">"==n.tag&&(n.indent=b[i].toString()),b.splice(i,1));else e||b.push({tag:"\n"});y=!1,k=b.length}function c(t,e){var i="="+T,r=t.indexOf(i,e),o=n(t.substring(t.indexOf("=",e)+1,r)).split(" ");return $=o[0],T=o[1],r+i.length-1}var u=t.length,l=0,d=1,h=2,f=l,p=null,m=null,v="",b=[],y=!1,x=0,k=0,$="{{",T="}}";for(r&&(r=r.split(" "),$=r[0],T=r[1]),x=0;u>x;x++)f==l?i($,t,x)?(--x,o(),f=d):"\n"==t.charAt(x)?a(y):v+=t.charAt(x):f==d?(x+=$.length-1,m=w[t.charAt(x+1)],p=m?t.charAt(x+1):"_v","="==p?(x=c(t,x),f=l):(m&&x++,f=h),y=x):i(T,t,x)?(b.push({tag:p,n:n(v),otag:$,ctag:T,i:"/"==p?y-T.length:x+$.length}),v="",x+=T.length-1,f=l,"{"==p&&("}}"==T?x++:e(b[b.length-1]))):v+=t.charAt(x);return a(y,!0),b},t.generate=function(e,n,i){var r='var _=this;_.b(i=i||"");'+u(e)+"return _.fl();";return i.asString?"function(c,p,i){"+r+";}":new t.Template(new Function("c","p","i",r),n,t,i)},t.parse=function(t,e,n){return n=n||{},r(t,"",[],n.sectionTags||[])},t.cache={},t.compile=function(t,e){e=e||{};var n=t+"||"+!!e.asString,i=this.cache[n];return i?i:(i=this.generate(this.parse(this.scan(t,e.delimiters),t,e),t,e),this.cache[n]=i)}}("undefined"!=typeof exports?exports:n),"function"==typeof e&&e.amd&&e(n)}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([2]))};e.amd=!0,function(t,n){function i(t){var e=t.length,n=st.type(t);return st.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t){var e=mt[t]={};return st.each(t.match(ct)||[],function(t,n){e[n]=!0}),e}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=st.expando+Math.random()}function s(t,e,i){var r;if(i===n&&1===t.nodeType)if(r="data-"+e.replace(yt,"-$1").toLowerCase(),i=t.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:bt.test(i)?JSON.parse(i):i}catch(o){}gt.set(t,e,i)}else i=n;return i}function a(){return!0}function c(){return!1}function u(){try{return V.activeElement}catch(t){}}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function d(t,e,n){if(st.isFunction(e))return st.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return st.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Et.test(e))return st.filter(e,t,n);e=st.filter(e,t)}return st.grep(t,function(t){return nt.call(e,t)>=0!==n})}function h(t,e){return st.nodeName(t,"table")&&st.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Ht.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var n=t.length,i=0;n>i;i++)vt.set(t[i],"globalEval",!e||vt.get(e[i],"globalEval"))}function g(t,e){var n,i,r,o,s,a,c,u;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),s=st.extend({},o),u=o.events,vt.set(e,s),u)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)st.event.add(e,r,u[r][n])}gt.hasData(t)&&(a=gt.access(t),c=st.extend({},a),gt.set(e,c))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return e===n||e&&st.nodeName(t,e)?st.merge([t],i):i}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&It.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=Zt.length;r--;)if(e=Zt[r]+n,e in t)return e;return i}function x(t,e){return t=e||t,"none"===st.css(t,"display")||!st.contains(t.ownerDocument,t)}function w(e){return t.getComputedStyle(e,null)}function k(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=vt.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(o[s]=vt.access(i,"olddisplay",j(i.nodeName)))):o[s]||(r=x(i),(n&&"none"!==n||!r)&&vt.set(i,"olddisplay",r?n:st.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function $(t,e,n){var i=Vt.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function T(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=st.css(t,n+Kt[o],!0,r)),i?("content"===n&&(s-=st.css(t,"padding"+Kt[o],!0,r)),"margin"!==n&&(s-=st.css(t,"border"+Kt[o]+"Width",!0,r))):(s+=st.css(t,"padding"+Kt[o],!0,r),"padding"!==n&&(s+=st.css(t,"border"+Kt[o]+"Width",!0,r)));return s}function C(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=w(t),s=st.support.boxSizing&&"border-box"===st.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=_t(t,e,o),(0>r||null==r)&&(r=t.style[e]),Xt.test(r))return r;i=s&&(st.support.boxSizingReliable||r===t.style[e]),r=parseFloat(r)||0}return r+T(t,e,n||(s?"border":"content"),i,o)+"px"}function j(t){var e=V,n=Yt[t];return n||(n=N(t,e),"none"!==n&&n||(Wt=(Wt||st("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(Wt[0].contentWindow||Wt[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),n=N(t,e),Wt.detach()),Yt[t]=n),n}function N(t,e){var n=st(e.createElement(t)).appendTo(e.body),i=st.css(n[0],"display");return n.remove(),i}function S(t,e,n,i){var r;if(st.isArray(e))st.each(e,function(e,r){n||ee.test(t)?i(t,r):S(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==st.type(e))i(t,e);else for(r in e)S(t+"["+r+"]",e[r],n,i)}function E(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(ct)||[];if(st.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function A(t,e,i,r){function o(c){var u;return s[c]=!0,st.each(t[c]||[],function(t,c){var l=c(e,i,r);return"string"!=typeof l||a||s[l]?a?!(u=l):n:(e.dataTypes.unshift(l),o(l),!1)}),u}var s={},a=t===be;return o(e.dataTypes[0])||!s["*"]&&o("*")}function D(t,e){var i,r,o=st.ajaxSettings.flatOptions||{};for(i in e)e[i]!==n&&((o[i]?t:r||(r={}))[i]=e[i]);return r&&st.extend(!0,t,r),t}function q(t,e,i){for(var r,o,s,a,c=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),r===n&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in c)if(c[o]&&c[o].test(r)){u.unshift(o);break}if(u[0]in i)s=u[0];else{for(o in i){if(!u[0]||t.converters[o+" "+u[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==u[0]&&u.unshift(s),i[s]):n}function L(t,e,n,i){var r,o,s,a,c,u={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(s=u[c+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function F(){return setTimeout(function(){Ne=n}),Ne=st.now()}function O(t,e){st.each(e,function(e,n){for(var i=(Le[e]||[]).concat(Le["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(t,e,n))return})}function I(t,e,n){var i,r,o=0,s=qe.length,a=st.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=Ne||F(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,c=u.tweens.length;c>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&c?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:st.extend({},e),opts:st.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ne||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=st.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),l=u.props;for(R(l,u.opts.specialEasing);s>o;o++)if(i=qe[o].call(u,t,l,u.opts))return i;return O(u,l),st.isFunction(u.opts.start)&&u.opts.start.call(t,u),st.fx.timer(st.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(t,e){var n,i,r,o,s;for(n in t)if(i=st.camelCase(n),r=e[i],o=t[n],st.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=st.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function M(t,e,i){var r,o,s,a,c,u,l,d,h,f=this,p=t.style,m={},g=[],v=t.nodeType&&x(t);i.queue||(d=st._queueHooks(t,"fx"),null==d.unqueued&&(d.unqueued=0,h=d.empty.fire,d.empty.fire=function(){d.unqueued||h()}),d.unqueued++,f.always(function(){f.always(function(){d.unqueued--,st.queue(t,"fx").length||d.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===st.css(t,"display")&&"none"===st.css(t,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),c=vt.get(t,"fxshow");for(r in e)if(s=e[r],Ee.exec(s)){if(delete e[r],u=u||"toggle"===s,s===(v?"hide":"show")){if("show"!==s||c===n||c[r]===n)continue;v=!0}g.push(r)}if(a=g.length){c=vt.get(t,"fxshow")||vt.access(t,"fxshow",{}),"hidden"in c&&(v=c.hidden),u&&(c.hidden=!v),v?st(t).show():f.done(function(){st(t).hide()}),f.done(function(){var e;vt.remove(t,"fxshow");for(e in m)st.style(t,e,m[e])});for(r=0;a>r;r++)o=g[r],l=f.createTween(o,v?c[o]:0),m[o]=c[o]||st.style(t,o),o in c||(c[o]=l.start,v&&(l.end=l.start,l.start="width"===o||"height"===o?1:0))}}function H(t,e,n,i,r){return new H.prototype.init(t,e,n,i,r)}function B(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Kt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function P(t){return st.isWindow(t)?t:9===t.nodeType&&t.defaultView}var _,W,z=typeof n,Q=t.location,V=t.document,X=V.documentElement,U=t.jQuery,Y=t.$,G={},J=[],K="2.0.0",Z=J.concat,tt=J.push,et=J.slice,nt=J.indexOf,it=G.toString,rt=G.hasOwnProperty,ot=K.trim,st=function(t,e){return new st.fn.init(t,e,_)},at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ct=/\S+/g,ut=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,lt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^-ms-/,ht=/-([\da-z])/gi,ft=function(t,e){return e.toUpperCase()},pt=function(){V.removeEventListener("DOMContentLoaded",pt,!1),t.removeEventListener("load",pt,!1),st.ready()};st.fn=st.prototype={jquery:K,constructor:st,init:function(t,e,i){var r,o;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ut.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof st?e[0]:e,st.merge(this,st.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:V,!0)),lt.test(r[1])&&st.isPlainObject(e))for(r in e)st.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return o=V.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=V,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):st.isFunction(t)?i.ready(t):(t.selector!==n&&(this.selector=t.selector,this.context=t.context),st.makeArray(t,this))},selector:"",length:0,toArray:function(){return et.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=st.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return st.each(this,t,e)},ready:function(t){return st.ready.promise().done(t),this},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(st.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:tt,sort:[].sort,splice:[].splice},st.fn.init.prototype=st.fn,st.extend=st.fn.extend=function(){var t,e,i,r,o,s,a=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},c=2),"object"==typeof a||st.isFunction(a)||(a={}),u===c&&(a=this,--c);u>c;c++)if(null!=(t=arguments[c]))for(e in t)i=a[e],r=t[e],a!==r&&(l&&r&&(st.isPlainObject(r)||(o=st.isArray(r)))?(o?(o=!1,s=i&&st.isArray(i)?i:[]):s=i&&st.isPlainObject(i)?i:{},a[e]=st.extend(l,s,r)):r!==n&&(a[e]=r));return a},st.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===st&&(t.$=Y),e&&t.jQuery===st&&(t.jQuery=U),st},isReady:!1,readyWait:1,holdReady:function(t){t?st.readyWait++:st.ready(!0)},ready:function(t){(t===!0?--st.readyWait:st.isReady)||(st.isReady=!0,t!==!0&&--st.readyWait>0||(W.resolveWith(V,[st]),st.fn.trigger&&st(V).trigger("ready").off("ready")))},isFunction:function(t){return"function"===st.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?G[it.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==st.type(t)||t.nodeType||st.isWindow(t))return!1;try{if(t.constructor&&!rt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||V;var i=lt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=st.buildFragment([t],e,r),r&&st(r).remove(),st.merge([],i.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(r){e=n}return(!e||e.getElementsByTagName("parsererror").length)&&st.error("Invalid XML: "+t),e},noop:function(){},globalEval:function(t){var e,n=eval;t=st.trim(t),t&&(1===t.indexOf("use strict")?(e=V.createElement("script"),e.text=t,V.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(dt,"ms-").replace(ht,ft)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,o=0,s=t.length,a=i(t);if(n){if(a)for(;s>o&&(r=e.apply(t[o],n),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],n),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":ot.call(t)},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?st.merge(n,"string"==typeof t?[t]:t):tt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:nt.call(e,t,n)},merge:function(t,e){var i=e.length,r=t.length,o=0;if("number"==typeof i)for(;i>o;o++)t[r++]=e[o];else for(;e[o]!==n;)t[r++]=e[o++];return t.length=r,t},grep:function(t,e,n){var i,r=[],o=0,s=t.length;for(n=!!n;s>o;o++)i=!!e(t[o],o),n!==i&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,s=t.length,a=i(t),c=[];if(a)for(;s>o;o++)r=e(t[o],o,n),null!=r&&(c[c.length]=r);else for(o in t)r=e(t[o],o,n),null!=r&&(c[c.length]=r);return Z.apply([],c)},guid:1,proxy:function(t,e){var i,r,o;return"string"==typeof e&&(i=t[e],e=t,t=i),st.isFunction(t)?(r=et.call(arguments,2),o=function(){return t.apply(e||this,r.concat(et.call(arguments)))},o.guid=t.guid=t.guid||st.guid++,o):n},access:function(t,e,i,r,o,s,a){var c=0,u=t.length,l=null==i;if("object"===st.type(i)){o=!0;for(c in i)st.access(t,e,c,i[c],!0,s,a)}else if(r!==n&&(o=!0,st.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(st(t),n)})),e))for(;u>c;c++)e(t[c],i,a?r:r.call(t[c],c,e(t[c],i)));return o?t:l?e.call(t):u?e(t[0],i):s},now:Date.now,swap:function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r}}),st.ready.promise=function(e){return W||(W=st.Deferred(),"complete"===V.readyState?setTimeout(st.ready):(V.addEventListener("DOMContentLoaded",pt,!1),t.addEventListener("load",pt,!1))),W.promise(e)},st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){G["[object "+e+"]"]=e.toLowerCase()}),_=st(V),function(t,e){function n(t){return yt.test(t+"")}function i(){var t,e=[];return t=function(n,i){return e.push(n+=" ")>j.cacheLength&&delete t[e.shift()],t[n]=i}}function r(t){return t[B]=!0,t}function o(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e,n,i){var r,o,s,a,c,u,l,d,h,m;if((e?e.ownerDocument||e:P)!==L&&q(e),e=e||L,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(O&&!i){if(r=xt.exec(t))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&H(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return et.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&_.getElementsByClassName&&e.getElementsByClassName)return et.apply(n,e.getElementsByClassName(s)),n}if(_.qsa&&(!I||!I.test(t))){if(d=l=B,h=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=f(t),(l=e.getAttribute("id"))?d=l.replace($t,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",c=u.length;c--;)u[c]=d+p(u[c]);h=pt.test(t)&&e.parentNode||e,m=u.join(",")}if(m)try{return et.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{l||e.removeAttribute("id")}}}return k(t.replace(dt,"$1"),e,n,i)}function a(t,e){var n=e&&t,i=n&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function c(t,n,i){var r;return i?e:(r=t.getAttributeNode(n))&&r.specified?r.value:t[n]===!0?n.toLowerCase():null}function u(t,n,i){var r;return i?e:r=t.getAttribute(n,"type"===n.toLowerCase()?1:2)}function l(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function d(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function h(t){return r(function(e){return e=+e,r(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function f(t,e){var n,i,r,o,a,c,u,l=V[t+" "];if(l)return e?0:l.slice(0);for(a=t,c=[],u=j.preFilter;a;){(!n||(i=ht.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),c.push(r=[])),n=!1,(i=ft.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(dt," ")}),a=a.slice(n.length));for(o in j.filter)!(i=bt[o].exec(a))||u[o]&&!(i=u[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?s.error(t):V(t,c).slice(0)}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function m(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=z++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,c,u,l=W+" "+o;if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r)if(u=e[B]||(e[B]={}),(c=u[i])&&c[0]===l){if((a=c[1])===!0||a===C)return a===!0}else if(c=u[i]=[l],c[1]=t(e,n,s)||C,c[1]===!0)return!0}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function v(t,e,n,i,r){for(var o,s=[],a=0,c=t.length,u=null!=e;c>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function b(t,e,n,i,o,s){return i&&!i[B]&&(i=b(i)),o&&!o[B]&&(o=b(o,s)),r(function(r,s,a,c){var u,l,d,h=[],f=[],p=s.length,m=r||w(e||"*",a.nodeType?[a]:a,[]),g=!t||!r&&e?m:v(m,h,t,a,c),b=n?o||(r?t:p||i)?[]:s:g;if(n&&n(g,b,a,c),i)for(u=v(b,f),i(u,[],a,c),l=u.length;l--;)(d=u[l])&&(b[f[l]]=!(g[f[l]]=d));if(r){if(o||t){if(o){for(u=[],l=b.length;l--;)(d=b[l])&&u.push(g[l]=d);o(null,b=[],u,c)}for(l=b.length;l--;)(d=b[l])&&(u=o?it.call(r,d):h[l])>-1&&(r[u]=!(s[u]=d))}}else b=v(b===s?b.splice(p,b.length):b),o?o(null,s,b,c):et.apply(s,b)})}function y(t){for(var e,n,i,r=t.length,o=j.relative[t[0].type],s=o||j.relative[" "],a=o?1:0,c=m(function(t){return t===e},s,!0),u=m(function(t){return it.call(e,t)>-1},s,!0),l=[function(t,n,i){return!o&&(i||n!==A)||((e=n).nodeType?c(t,n,i):u(t,n,i))}];r>a;a++)if(n=j.relative[t[a].type])l=[m(g(l),n)];else{if(n=j.filter[t[a].type].apply(null,t[a].matches),n[B]){for(i=++a;r>i&&!j.relative[t[i].type];i++);return b(a>1&&g(l),a>1&&p(t.slice(0,a-1)).replace(dt,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&p(t))}l.push(n)}return g(l)}function x(t,e){var n=0,i=e.length>0,o=t.length>0,a=function(r,a,c,u,l){var d,h,f,p=[],m=0,g="0",b=r&&[],y=null!=l,x=A,w=r||o&&j.find.TAG("*",l&&a.parentNode||a),k=W+=null==x?1:Math.random()||.1;for(y&&(A=a!==L&&a,C=n);null!=(d=w[g]);g++){if(o&&d){for(h=0;f=t[h++];)if(f(d,a,c)){u.push(d);break}y&&(W=k,C=++n)}i&&((d=!f&&d)&&m--,r&&b.push(d))}if(m+=g,i&&g!==m){for(h=0;f=e[h++];)f(b,p,a,c);if(r){if(m>0)for(;g--;)b[g]||p[g]||(p[g]=Z.call(u));p=v(p)}et.apply(u,p),y&&!r&&p.length>0&&m+e.length>1&&s.uniqueSort(u)}return y&&(W=k,A=x),b};return i?r(a):a}function w(t,e,n){for(var i=0,r=e.length;r>i;i++)s(t,e[i],n);return n}function k(t,e,n,i){var r,o,s,a,c,u=f(t);if(!i&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&O&&j.relative[o[1].type]){if(e=(j.find.ID(s.matches[0].replace(Tt,Ct),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(r=bt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!j.relative[a=s.type]);)if((c=j.find[a])&&(i=c(s.matches[0].replace(Tt,Ct),pt.test(o[0].type)&&e.parentNode||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return et.apply(n,i),n;break}}return E(t,u)(i,e,!O,n,pt.test(t)),n}function $(){}var T,C,j,N,S,E,A,D,q,L,F,O,I,R,M,H,B="sizzle"+-new Date,P=t.document,_={},W=0,z=0,Q=i(),V=i(),X=i(),U=!1,Y=function(){return 0},G=typeof e,J=1<<31,K=[],Z=K.pop,tt=K.push,et=K.push,nt=K.slice,it=K.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ct=at.replace("w","w#"),ut="\\["+ot+"*("+at+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ct+")|)|)"+ot+"*\\]",lt=":("+at+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ut.replace(3,8)+")*)|.*)\\)|)",dt=RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),ht=RegExp("^"+ot+"*,"+ot+"*"),ft=RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),pt=RegExp(ot+"*[+~]"),mt=RegExp("="+ot+"*([^\\]'\"]*)"+ot+"*\\]","g"),gt=RegExp(lt),vt=RegExp("^"+ct+"$"),bt={ID:RegExp("^#("+at+")"),CLASS:RegExp("^\\.("+at+")"),TAG:RegExp("^("+at.replace("w","w*")+")"),ATTR:RegExp("^"+ut),PSEUDO:RegExp("^"+lt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),"boolean":RegExp("^(?:"+rt+")$","i"),needsContext:RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,xt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/^(?:input|select|textarea|button)$/i,kt=/^h\d$/i,$t=/'|\\/g,Tt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Ct=function(t,e){var n="0x"+e-65536;return n!==n?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{et.apply(K=nt.call(P.childNodes),P.childNodes),K[P.childNodes.length].nodeType}catch(jt){et={apply:K.length?function(t,e){tt.apply(t,nt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}S=s.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},q=s.setDocument=function(t){var i=t?t.ownerDocument||t:P;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,F=i.documentElement,O=!S(i),_.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByClassName=o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),_.sortDetached=o(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),_.getById=o(function(t){return F.appendChild(t).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),_.getById?(j.find.ID=function(t,e){if(typeof e.getElementById!==G&&O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},j.filter.ID=function(t){var e=t.replace(Tt,Ct);return function(t){return t.getAttribute("id")===e}}):(j.find.ID=function(t,n){if(typeof n.getElementById!==G&&O){var i=n.getElementById(t);return i?i.id===t||typeof i.getAttributeNode!==G&&i.getAttributeNode("id").value===t?[i]:e:[]}},j.filter.ID=function(t){var e=t.replace(Tt,Ct);return function(t){var n=typeof t.getAttributeNode!==G&&t.getAttributeNode("id");return n&&n.value===e}}),j.find.TAG=_.getElementsByTagName?function(t,n){return typeof n.getElementsByTagName!==G?n.getElementsByTagName(t):e}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},j.find.CLASS=_.getElementsByClassName&&function(t,n){return typeof n.getElementsByClassName!==G&&O?n.getElementsByClassName(t):e},R=[],I=[],(_.qsa=n(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||I.push("\\["+ot+"*(?:value|"+rt+")"),t.querySelectorAll(":checked").length||I.push(":checked")}),o(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&I.push("[*^$]="+ot+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(_.matchesSelector=n(M=F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&o(function(t){_.disconnectedMatch=M.call(t,"div"),M.call(t,"[s!='']:x"),R.push("!=",lt)}),I=I.length&&RegExp(I.join("|")),R=R.length&&RegExp(R.join("|")),H=n(F.contains)||F.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1;
},Y=F.compareDocumentPosition?function(t,e){if(t===e)return U=!0,0;var n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return n?1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||H(P,t)?-1:e===i||H(P,e)?1:D?it.call(D,t)-it.call(D,e):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,r=0,o=t.parentNode,s=e.parentNode,c=[t],u=[e];if(t===e)return U=!0,0;if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:D?it.call(D,t)-it.call(D,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)c.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;c[r]===u[r];)r++;return r?a(c[r],u[r]):c[r]===P?-1:u[r]===P?1:0},L):L},s.matches=function(t,e){return s(t,null,null,e)},s.matchesSelector=function(t,e){if((t.ownerDocument||t)!==L&&q(t),e=e.replace(mt,"='$1']"),!(!_.matchesSelector||!O||R&&R.test(e)||I&&I.test(e)))try{var n=M.call(t,e);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(i){}return s(e,L,null,[t]).length>0},s.contains=function(t,e){return(t.ownerDocument||t)!==L&&q(t),H(t,e)},s.attr=function(t,n){(t.ownerDocument||t)!==L&&q(t);var i=j.attrHandle[n.toLowerCase()],r=i&&i(t,n,!O);return r===e?_.attributes||!O?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null:r},s.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},s.uniqueSort=function(t){var e,n=[],i=0,r=0;if(U=!_.detectDuplicates,D=!_.sortStable&&t.slice(0),t.sort(Y),U){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return t},N=s.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=N(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i];i++)n+=N(e);return n},j=s.selectors={cacheLength:50,createPseudo:r,match:bt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Tt,Ct),t[3]=(t[4]||t[5]||"").replace(Tt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||s.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&s.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return bt.CHILD.test(t[0])?null:(t[4]?t[2]=t[4]:n&&gt.test(n)&&(e=f(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Tt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Q[t+" "];return e||(e=RegExp("(^|"+ot+")"+t+"("+ot+"|$)"))&&Q(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==G&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=s.attr(i,t);return null==r?"!="===e:e?(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var u,l,d,h,f,p,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!c&&!a;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(l=g[B]||(g[B]={}),u=l[t]||[],f=u[0]===W&&u[1],h=u[0]===W&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){l[t]=[W,f,h];break}}else if(b&&(u=(e[B]||(e[B]={}))[t])&&u[0]===W)h=u[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[B]||(d[B]={}))[t]=[W,h]),d!==e)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(t,e){var n,i=j.pseudos[t]||j.setFilters[t.toLowerCase()]||s.error("unsupported pseudo: "+t);return i[B]?i(e):i.length>1?(n=[t,t,"",e],j.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var r,o=i(t,e),s=o.length;s--;)r=it.call(t,o[s]),t[r]=!(n[r]=o[s])}):function(t){return i(t,0,n)}):i}},pseudos:{not:r(function(t){var e=[],n=[],i=E(t.replace(dt,"$1"));return i[B]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(e){return s(t,e).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||N(e)).indexOf(t)>-1}}),lang:r(function(t){return vt.test(t||"")||s.error("unsupported lang: "+t),t=t.replace(Tt,Ct).toLowerCase(),function(e){var n;do if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===F},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!j.pseudos.empty(t)},header:function(t){return kt.test(t.nodeName)},input:function(t){return wt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,n){return[0>n?n+e:n]}),even:h(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:h(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:h(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:h(function(t,e,n){for(var i=0>n?n+e:n;e>++i;)t.push(i);return t})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})j.pseudos[T]=l(T);for(T in{submit:!0,reset:!0})j.pseudos[T]=d(T);E=s.compile=function(t,e){var n,i=[],r=[],o=X[t+" "];if(!o){for(e||(e=f(t)),n=e.length;n--;)o=y(e[n]),o[B]?i.push(o):r.push(o);o=X(t,x(r,i))}return o},j.pseudos.nth=j.pseudos.eq,$.prototype=j.filters=j.pseudos,j.setFilters=new $,_.sortStable=B.split("").sort(Y).join("")===B,q(),[0,0].sort(Y),_.detectDuplicates=U,o(function(t){if(t.innerHTML="<a href='#'></a>","#"!==t.firstChild.getAttribute("href"))for(var e="type|href|height|width".split("|"),n=e.length;n--;)j.attrHandle[e[n]]=u}),o(function(t){if(null!=t.getAttribute("disabled"))for(var e=rt.split("|"),n=e.length;n--;)j.attrHandle[e[n]]=c}),st.find=s,st.expr=s.selectors,st.expr[":"]=st.expr.pseudos,st.unique=s.uniqueSort,st.text=s.getText,st.isXMLDoc=s.isXML,st.contains=s.contains}(t);var mt={};st.Callbacks=function(t){t="string"==typeof t?mt[t]||r(t):st.extend({},t);var e,i,o,s,a,c,u=[],l=!t.once&&[],d=function(n){for(e=t.memory&&n,i=!0,c=s||0,s=0,a=u.length,o=!0;u&&a>c;c++)if(u[c].apply(n[0],n[1])===!1&&t.stopOnFalse){e=!1;break}o=!1,u&&(l?l.length&&d(l.shift()):e?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function i(e){st.each(e,function(e,n){var r=st.type(n);"function"===r?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),o?a=u.length:e&&(s=n,d(e))}return this},remove:function(){return u&&st.each(arguments,function(t,e){for(var n;(n=st.inArray(e,u,n))>-1;)u.splice(n,1),o&&(a>=n&&a--,c>=n&&c--)}),this},has:function(t){return t?st.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=e=n,this},disabled:function(){return!u},lock:function(){return l=n,e||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!u||i&&!l||(o?l.push(e):d(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},st.extend({Deferred:function(t){var e=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return st.Deferred(function(n){st.each(e,function(e,o){var s=o[0],a=st.isFunction(t[e])&&t[e];r[o[1]](function(){var t=a&&a.apply(this,arguments);t&&st.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?st.extend(t,i):i}},r={};return i.pipe=i.then,st.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=et.call(arguments),s=o.length,a=1!==s||t&&st.isFunction(t.promise)?s:0,c=1===a?t:st.Deferred(),u=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?et.call(arguments):r,i===e?c.notifyWith(n,i):--a||c.resolveWith(n,i)}};if(s>1)for(e=Array(s),n=Array(s),i=Array(s);s>r;r++)o[r]&&st.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(c.reject).progress(u(r,n,e)):--a;return a||c.resolveWith(i,o),c.promise()}}),st.support=function(e){var n=V.createElement("input"),i=V.createDocumentFragment(),r=V.createElement("div"),o=V.createElement("select"),s=o.appendChild(V.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=s.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled,n=V.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),i.appendChild(n),e.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===r.style.backgroundClip,st(function(){var n,i,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",s=V.getElementsByTagName("body")[0];s&&(n=V.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(r),r.innerHTML="",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",st.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===r.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(r,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(r,null)||{width:"4px"}).width,i=r.appendChild(V.createElement("div")),i.style.cssText=r.style.cssText=o,i.style.marginRight=i.style.width="0",r.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(i,null)||{}).marginRight)),s.removeChild(n))}),e):e}({});var gt,vt,bt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,yt=/([A-Z])/g;o.uid=1,o.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},o.prototype={key:function(t){if(!o.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=o.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(i){e[this.expando]=n,st.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var i,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=n;else if(st.isEmptyObject(o))this.cache[r]=e;else for(i in e)o[i]=e[i]},get:function(t,e){var i=this.cache[this.key(t)];return e===n?i:i[e]},access:function(t,e,i){return e===n||e&&"string"==typeof e&&i===n?this.get(t,e):(this.set(t,e,i),i!==n?i:e)},remove:function(t,e){var i,r,o=this.key(t),s=this.cache[o];if(e===n)this.cache[o]={};else{st.isArray(e)?r=e.concat(e.map(st.camelCase)):e in s?r=[e]:(r=st.camelCase(e),r=r in s?[r]:r.match(ct)||[]),i=r.length;for(;i--;)delete s[r[i]]}},hasData:function(t){return!st.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){delete this.cache[this.key(t)]}},gt=new o,vt=new o,st.extend({acceptData:o.accepts,hasData:function(t){return gt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return gt.access(t,e,n)},removeData:function(t,e){gt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),st.fn.extend({data:function(t,e){var i,r,o=this[0],a=0,c=null;if(t===n){if(this.length&&(c=gt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(i=o.attributes;i.length>a;a++)r=i[a].name,0===r.indexOf("data-")&&(r=st.camelCase(r.substring(5)),s(o,r,c[r]));vt.set(o,"hasDataAttrs",!0)}return c}return"object"==typeof t?this.each(function(){gt.set(this,t)}):st.access(this,function(e){var i,r=st.camelCase(t);if(o&&e===n){if(i=gt.get(o,t),i!==n)return i;if(i=gt.get(o,r),i!==n)return i;if(i=s(o,r,n),i!==n)return i}else this.each(function(){var i=gt.get(this,r);gt.set(this,r,e),-1!==t.indexOf("-")&&i!==n&&gt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){gt.remove(this,t)})}}),st.extend({queue:function(t,e,i){var r;return t?(e=(e||"fx")+"queue",r=vt.get(t,e),i&&(!r||st.isArray(i)?r=vt.access(t,e,st.makeArray(i)):r.push(i)),r||[]):n},dequeue:function(t,e){e=e||"fx";var n=st.queue(t,e),i=n.length,r=n.shift(),o=st._queueHooks(t,e),s=function(){st.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:st.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),st.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),i>arguments.length?st.queue(this[0],t):e===n?this:this.each(function(){var n=st.queue(this,t,e);st._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&st.dequeue(this,t)})},dequeue:function(t){return this.each(function(){st.dequeue(this,t)})},delay:function(t,e){return t=st.fx?st.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,r=1,o=st.Deferred(),s=this,a=this.length,c=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=n),t=t||"fx";a--;)i=vt.get(s[a],t+"queueHooks"),i&&i.empty&&(r++,i.empty.add(c));return c(),o.promise(e)}});var xt,wt,kt=/[\t\r\n]/g,$t=/\r/g,Tt=/^(?:input|select|textarea|button)$/i;st.fn.extend({attr:function(t,e){return st.access(this,st.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){st.removeAttr(this,t)})},prop:function(t,e){return st.access(this,st.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[st.propFix[t]||t]})},addClass:function(t){var e,n,i,r,o,s=0,a=this.length,c="string"==typeof t&&t;if(st.isFunction(t))return this.each(function(e){st(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(ct)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(kt," "):" ")){for(o=0;r=e[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=st.trim(i)}return this},removeClass:function(t){var e,n,i,r,o,s=0,a=this.length,c=0===arguments.length||"string"==typeof t&&t;if(st.isFunction(t))return this.each(function(e){st(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(ct)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(kt," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=t?st.trim(i):""}return this},toggleClass:function(t,e){var n=typeof t,i="boolean"==typeof e;return st.isFunction(t)?this.each(function(n){st(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var r,o=0,s=st(this),a=e,c=t.match(ct)||[];r=c[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else(n===z||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(kt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var e,i,r,o=this[0];return arguments.length?(r=st.isFunction(t),this.each(function(i){var o,s=st(this);1===this.nodeType&&(o=r?t.call(this,i,s.val()):t,null==o?o="":"number"==typeof o?o+="":st.isArray(o)&&(o=st.map(o,function(t){return null==t?"":t+""})),e=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&e.set(this,o,"value")!==n||(this.value=o))})):o?(e=st.valHooks[o.type]||st.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&(i=e.get(o,"value"))!==n?i:(i=o.value,"string"==typeof i?i.replace($t,""):null==i?"":i)):void 0}}),st.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,c=0>r?a:o?r:0;a>c;c++)if(n=i[c],!(!n.selected&&c!==r||(st.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&st.nodeName(n.parentNode,"optgroup"))){if(e=st(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=st.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=st.inArray(st(i).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,e,i){var r,o,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?typeof t.getAttribute===z?st.prop(t,e,i):(1===s&&st.isXMLDoc(t)||(e=e.toLowerCase(),r=st.attrHooks[e]||(st.expr.match["boolean"].test(e)?wt:xt)),i===n?r&&"get"in r&&null!==(o=r.get(t,e))?o:(o=st.find.attr(t,e),null==o?n:o):null!==i?r&&"set"in r&&(o=r.set(t,i,e))!==n?o:(t.setAttribute(e,i+""),i):(st.removeAttr(t,e),n)):void 0},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(ct);if(o&&1===t.nodeType)for(;n=o[r++];)i=st.propFix[n]||n,st.expr.match["boolean"].test(n)&&(t[i]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!st.support.radioValue&&"radio"===e&&st.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var r,o,s,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(s=1!==a||!st.isXMLDoc(t),s&&(e=st.propFix[e]||e,o=st.propHooks[e]),i!==n?o&&"set"in o&&(r=o.set(t,i,e))!==n?r:t[e]=i:o&&"get"in o&&null!==(r=o.get(t,e))?r:t[e]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Tt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),wt={set:function(t,e,n){return e===!1?st.removeAttr(t,n):t.setAttribute(n,n),n}},st.each(st.expr.match["boolean"].source.match(/\w+/g),function(t,e){var i=st.expr.attrHandle[e]||st.find.attr;st.expr.attrHandle[e]=function(t,e,r){var o=st.expr.attrHandle[e],s=r?n:(st.expr.attrHandle[e]=n)!=i(t,e,r)?e.toLowerCase():null;return st.expr.attrHandle[e]=o,s}}),st.support.optSelected||(st.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(t,e){return st.isArray(e)?t.checked=st.inArray(st(t).val(),e)>=0:n}},st.support.checkOn||(st.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ct=/^key/,jt=/^(?:mouse|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,St=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(t,e,i,r,o){var s,a,c,u,l,d,h,f,p,m,g,v=vt.get(t);if(v){for(i.handler&&(s=i,i=s.handler,o=s.selector),i.guid||(i.guid=st.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(t){return typeof st===z||t&&st.event.triggered===t.type?n:st.event.dispatch.apply(a.elem,arguments)},a.elem=t),e=(e||"").match(ct)||[""],l=e.length;l--;)c=St.exec(e[l])||[],p=g=c[1],m=(c[2]||"").split(".").sort(),p&&(h=st.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=st.event.special[p]||{},d=st.extend({type:p,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&st.expr.match.needsContext.test(o),namespace:m.join(".")},s),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,m,a)!==!1||t.addEventListener&&t.addEventListener(p,a,!1)),h.add&&(h.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?f.splice(f.delegateCount++,0,d):f.push(d),st.event.global[p]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,c,u,l,d,h,f,p,m,g=vt.hasData(t)&&vt.get(t);if(g&&(c=g.events)){for(e=(e||"").match(ct)||[""],u=e.length;u--;)if(a=St.exec(e[u])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f){for(d=st.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=c[f]||[],a=a[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)l=h[o],!r&&m!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,d.remove&&d.remove.call(t,l));s&&!h.length&&(d.teardown&&d.teardown.call(t,p,g.handle)!==!1||st.removeEvent(t,f,g.handle),delete c[f])}else for(f in c)st.event.remove(t,f+e[u],n,i,!0);st.isEmptyObject(c)&&(delete g.handle,vt.remove(t,"events"))}},trigger:function(e,i,r,o){var s,a,c,u,l,d,h,f=[r||V],p=rt.call(e,"type")?e.type:e,m=rt.call(e,"namespace")?e.namespace.split("."):[];if(a=c=r=r||V,3!==r.nodeType&&8!==r.nodeType&&!Nt.test(p+st.event.triggered)&&(p.indexOf(".")>=0&&(m=p.split("."),p=m.shift(),m.sort()),l=0>p.indexOf(":")&&"on"+p,e=e[st.expando]?e:new st.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=n,e.target||(e.target=r),i=null==i?[e]:st.makeArray(i,[e]),h=st.event.special[p]||{},o||!h.trigger||h.trigger.apply(r,i)!==!1)){if(!o&&!h.noBubble&&!st.isWindow(r)){for(u=h.delegateType||p,Nt.test(u+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),c=a;c===(r.ownerDocument||V)&&f.push(c.defaultView||c.parentWindow||t)}for(s=0;(a=f[s++])&&!e.isPropagationStopped();)e.type=s>1?u:h.bindType||p,d=(vt.get(a,"events")||{})[e.type]&&vt.get(a,"handle"),d&&d.apply(a,i),d=l&&a[l],d&&st.acceptData(a)&&d.apply&&d.apply(a,i)===!1&&e.preventDefault();return e.type=p,o||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),i)!==!1||!st.acceptData(r)||l&&st.isFunction(r[p])&&!st.isWindow(r)&&(c=r[l],c&&(r[l]=null),st.event.triggered=p,r[p](),st.event.triggered=n,c&&(r[l]=c)),e.result}},dispatch:function(t){t=st.event.fix(t);var e,i,r,o,s,a=[],c=et.call(arguments),u=(vt.get(this,"events")||{})[t.type]||[],l=st.event.special[t.type]||{};if(c[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=st.event.handlers.call(this,t,u),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,r=((st.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,c),r!==n&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,r,o,s,a=[],c=e.delegateCount,u=t.target;if(c&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],i=0;c>i;i++)s=e[i],o=s.selector+" ",r[o]===n&&(r[o]=s.needsContext?st(o,this).index(u)>=0:st.find(o,this,null,[u]).length),r[o]&&r.push(s);r.length&&a.push({elem:u,handlers:r})}return e.length>c&&a.push({elem:this,handlers:e.slice(c)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,r,o,s=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||V,r=i.documentElement,o=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||s===n||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[st.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=jt.test(r)?this.mouseHooks:Ct.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new st.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return 3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):n},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):n},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&st.nodeName(this,"input")?(this.click(),!1):n},_default:function(t){return st.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==n&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=st.extend(new st.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?st.event.trigger(r,null,e):st.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},st.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},st.Event=function(t,e){return this instanceof st.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?a:c):this.type=t,e&&st.extend(this,e),this.timeStamp=t&&t.timeStamp||st.now(),this[st.expando]=!0,n):new st.Event(t,e)},st.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=a,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=a,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){st.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!st.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),st.support.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,i=function(t){st.event.simulate(e,t.target,st.event.fix(t),!0)};st.event.special[e]={setup:function(){0===n++&&V.addEventListener(t,i,!0)},teardown:function(){0===--n&&V.removeEventListener(t,i,!0)}}}),st.fn.extend({on:function(t,e,i,r,o){var s,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=n);for(a in t)this.on(a,e,i,t[a],o);return this}if(null==i&&null==r?(r=e,i=e=n):null==r&&("string"==typeof e?(r=i,i=n):(r=i,i=e,e=n)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(t){return st().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=st.guid++)),this.each(function(){st.event.add(this,t,r,i,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,st(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=n),i===!1&&(i=c),this.each(function(){st.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){st.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?st.event.trigger(t,e,i,!0):n}});var Et=/^.[^:#\[\.,]*$/,At=st.expr.match.needsContext,Dt={children:!0,contents:!0,next:!0,prev:!0};st.fn.extend({find:function(t){var e,n,i,r=this.length;if("string"!=typeof t)return e=this,this.pushStack(st(t).filter(function(){for(i=0;r>i;i++)if(st.contains(e[i],this))return!0}));for(n=[],i=0;r>i;i++)st.find(t,this[i],n);return n=this.pushStack(r>1?st.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+t,n},has:function(t){var e=st(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(st.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!t&&("string"==typeof t?At.test(t)?st(t,this.context).index(this[0])>=0:st.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=At.test(t)||"string"!=typeof t?st(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&st.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?st.unique(o):o)},index:function(t){return t?"string"==typeof t?nt.call(st(t),this[0]):nt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?st(t,e):st.makeArray(t&&t.nodeType?[t]:t),i=st.merge(this.get(),n);return this.pushStack(st.unique(i))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),st.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return st.dir(t,"parentNode")},parentsUntil:function(t,e,n){return st.dir(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return st.dir(t,"nextSibling")},prevAll:function(t){return st.dir(t,"previousSibling")},nextUntil:function(t,e,n){return st.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return st.dir(t,"previousSibling",n)},siblings:function(t){return st.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return st.sibling(t.firstChild)},contents:function(t){return st.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:st.merge([],t.childNodes)}},function(t,e){st.fn[t]=function(n,i){var r=st.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=st.filter(i,r)),this.length>1&&(Dt[t]||st.unique(r),"p"===t[0]&&r.reverse()),this.pushStack(r)}}),st.extend({filter:function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?st.find.matchesSelector(i,t)?[i]:[]:st.find.matches(t,st.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,e,i){for(var r=[],o=i!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&st(t).is(i))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,Ft=/<|&#?\w+;/,Ot=/<(?:script|style|link)/i,It=/^(?:checkbox|radio)$/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^$|\/(?:java|ecma)script/i,Ht=/^true\/(.*)/,Bt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pt={
option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.optgroup=Pt.option,Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.col=Pt.thead,Pt.th=Pt.td,st.fn.extend({text:function(t){return st.access(this,function(t){return t===n?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||V).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?st.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||st.cleanData(v(n)),n.parentNode&&(e&&st.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(st.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return st.clone(this,t,e)})},html:function(t){return st.access(this,function(t){var e=this[0]||{},i=0,r=this.length;if(t===n&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!Pt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(qt,"<$1></$2>");try{for(;r>i;i++)e=this[i]||{},1===e.nodeType&&(st.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=st.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var i=t[e++],r=t[e++];r&&(st(this).remove(),r.insertBefore(n,i))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=Z.apply([],t);var i,r,o,s,a,c,u=0,l=this.length,d=this,h=l-1,m=t[0],g=st.isFunction(m);if(g||!(1>=l||"string"!=typeof m||st.support.checkClone)&&Rt.test(m))return this.each(function(i){var r=d.eq(i);g&&(t[0]=m.call(this,i,r.html())),r.domManip(t,e,n)});if(l&&(i=st.buildFragment(t,this[0].ownerDocument,!1,!n&&this),r=i.firstChild,1===i.childNodes.length&&(i=r),r)){for(o=st.map(v(i,"script"),f),s=o.length;l>u;u++)a=i,u!==h&&(a=st.clone(a,!0,!0),s&&st.merge(o,v(a,"script"))),e.call(this[u],a,u);if(s)for(c=o[o.length-1].ownerDocument,st.map(o,p),u=0;s>u;u++)a=o[u],Mt.test(a.type||"")&&!vt.access(a,"globalEval")&&st.contains(c,a)&&(a.src?st._evalUrl(a.src):st.globalEval(a.textContent.replace(Bt,"")))}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){st.fn[t]=function(t){for(var n,i=[],r=st(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),st(r[s])[e](n),tt.apply(i,n.get());return this.pushStack(i)}}),st.extend({clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),c=st.contains(t.ownerDocument,t);if(!(st.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||st.isXMLDoc(t)))for(s=v(a),o=v(t),i=0,r=o.length;r>i;i++)b(o[i],s[i]);if(e)if(n)for(o=o||v(t),s=s||v(a),i=0,r=o.length;r>i;i++)g(o[i],s[i]);else g(t,a);return s=v(a,"script"),s.length>0&&m(s,!c&&v(t,"script")),a},buildFragment:function(t,e,n,i){for(var r,o,s,a,c,u,l=0,d=t.length,h=e.createDocumentFragment(),f=[];d>l;l++)if(r=t[l],r||0===r)if("object"===st.type(r))st.merge(f,r.nodeType?[r]:r);else if(Ft.test(r)){for(o=o||h.appendChild(e.createElement("div")),s=(Lt.exec(r)||["",""])[1].toLowerCase(),a=Pt[s]||Pt._default,o.innerHTML=a[1]+r.replace(qt,"<$1></$2>")+a[2],u=a[0];u--;)o=o.firstChild;st.merge(f,o.childNodes),o=h.firstChild,o.textContent=""}else f.push(e.createTextNode(r));for(h.textContent="",l=0;r=f[l++];)if((!i||-1===st.inArray(r,i))&&(c=st.contains(r.ownerDocument,r),o=v(h.appendChild(r),"script"),c&&m(o),n))for(u=0;r=o[u++];)Mt.test(r.type||"")&&n.push(r);return h},cleanData:function(t){for(var e,n,i,r=t.length,o=0,s=st.event.special;r>o;o++){if(n=t[o],st.acceptData(n)&&(e=vt.access(n)))for(i in e.events)s[i]?st.event.remove(n,i):st.removeEvent(n,i,e.handle);gt.discard(n),vt.discard(n)}},_evalUrl:function(t){return st.ajax({url:t,type:"GET",dataType:"text",async:!1,global:!1,success:st.globalEval})}}),st.fn.extend({wrapAll:function(t){var e;return st.isFunction(t)?this.each(function(e){st(this).wrapAll(t.call(this,e))}):(this[0]&&(e=st(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return st.isFunction(t)?this.each(function(e){st(this).wrapInner(t.call(this,e))}):this.each(function(){var e=st(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=st.isFunction(t);return this.each(function(n){st(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}});var _t,Wt,zt=/^(none|table(?!-c[ea]).+)/,Qt=/^margin/,Vt=RegExp("^("+at+")(.*)$","i"),Xt=RegExp("^("+at+")(?!px)[a-z%]+$","i"),Ut=RegExp("^([+-])=("+at+")","i"),Yt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:0,fontWeight:400},Kt=["Top","Right","Bottom","Left"],Zt=["Webkit","O","Moz","ms"];st.fn.extend({css:function(t,e){return st.access(this,function(t,e,i){var r,o,s={},a=0;if(st.isArray(e)){for(r=w(t),o=e.length;o>a;a++)s[e[a]]=st.css(t,e[a],!1,r);return s}return i!==n?st.style(t,e,i):st.css(t,e)},t,e,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:x(this))?st(this).show():st(this).hide()})}}),st.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=_t(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,c=st.camelCase(e),u=t.style;return e=st.cssProps[c]||(st.cssProps[c]=y(u,c)),a=st.cssHooks[e]||st.cssHooks[c],i===n?a&&"get"in a&&(o=a.get(t,!1,r))!==n?o:u[e]:(s=typeof i,"string"===s&&(o=Ut.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(st.css(t,e)),s="number"),null==i||"number"===s&&isNaN(i)||("number"!==s||st.cssNumber[c]||(i+="px"),st.support.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&(i=a.set(t,i,r))===n||(u[e]=i)),n)}},css:function(t,e,i,r){var o,s,a,c=st.camelCase(e);return e=st.cssProps[c]||(st.cssProps[c]=y(t.style,c)),a=st.cssHooks[e]||st.cssHooks[c],a&&"get"in a&&(o=a.get(t,!0,i)),o===n&&(o=_t(t,e,r)),"normal"===o&&e in Jt&&(o=Jt[e]),""===i||i?(s=parseFloat(o),i===!0||st.isNumeric(s)?s||0:o):o}}),_t=function(t,e,i){var r,o,s,a=i||w(t),c=a?a.getPropertyValue(e)||a[e]:n,u=t.style;return a&&(""!==c||st.contains(t.ownerDocument,t)||(c=st.style(t,e)),Xt.test(c)&&Qt.test(e)&&(r=u.width,o=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=c,c=a.width,u.width=r,u.minWidth=o,u.maxWidth=s)),c},st.each(["height","width"],function(t,e){st.cssHooks[e]={get:function(t,i,r){return i?0===t.offsetWidth&&zt.test(st.css(t,"display"))?st.swap(t,Gt,function(){return C(t,e,r)}):C(t,e,r):n},set:function(t,n,i){var r=i&&w(t);return $(t,n,i?T(t,e,i,st.support.boxSizing&&"border-box"===st.css(t,"boxSizing",!1,r),r):0)}}}),st(function(){st.support.reliableMarginRight||(st.cssHooks.marginRight={get:function(t,e){return e?st.swap(t,{display:"inline-block"},_t,[t,"marginRight"]):n}}),!st.support.pixelPosition&&st.fn.position&&st.each(["top","left"],function(t,e){st.cssHooks[e]={get:function(t,i){return i?(i=_t(t,e),Xt.test(i)?st(t).position()[e]+"px":i):n}}})}),st.expr&&st.expr.filters&&(st.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight},st.expr.filters.visible=function(t){return!st.expr.filters.hidden(t)}),st.each({margin:"",padding:"",border:"Width"},function(t,e){st.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Kt[i]+e]=o[i]||o[i-2]||o[0];return r}},Qt.test(t)||(st.cssHooks[t+e].set=$)});var te=/%20/g,ee=/\[\]$/,ne=/\r?\n/g,ie=/^(?:submit|button|image|reset|file)$/i,re=/^(?:input|select|textarea|keygen)/i;st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=st.prop(this,"elements");return t?st.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!st(this).is(":disabled")&&re.test(this.nodeName)&&!ie.test(t)&&(this.checked||!It.test(t))}).map(function(t,e){var n=st(this).val();return null==n?null:st.isArray(n)?st.map(n,function(t){return{name:e.name,value:t.replace(ne,"\r\n")}}):{name:e.name,value:n.replace(ne,"\r\n")}}).get()}}),st.param=function(t,e){var i,r=[],o=function(t,e){e=st.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===n&&(e=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(t)||t.jquery&&!st.isPlainObject(t))st.each(t,function(){o(this.name,this.value)});else for(i in t)S(i,t[i],e,o);return r.join("&").replace(te,"+")},st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){st.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),st.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var oe,se,ae=st.now(),ce=/\?/,ue=/#.*$/,le=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,he=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,fe=/^(?:GET|HEAD)$/,pe=/^\/\//,me=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ge=st.fn.load,ve={},be={},ye="*/".concat("*");try{se=Q.href}catch(xe){se=V.createElement("a"),se.href="",se=se.href}oe=me.exec(se.toLowerCase())||[],st.fn.load=function(t,e,i){if("string"!=typeof t&&ge)return ge.apply(this,arguments);var r,o,s,a=this,c=t.indexOf(" ");return c>=0&&(r=t.slice(c),t=t.slice(0,c)),st.isFunction(e)?(i=e,e=n):e&&"object"==typeof e&&(o="POST"),a.length>0&&st.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){s=arguments,a.html(r?st("<div>").append(st.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){a.each(i,s||[t.responseText,e,t])}),this},st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){st.fn[e]=function(t){return this.on(e,t)}}),st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:se,type:"GET",isLocal:he.test(oe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?D(D(t,st.ajaxSettings),e):D(st.ajaxSettings,t)},ajaxPrefilter:E(ve),ajaxTransport:E(be),ajax:function(t,e){function i(t,e,i,a){var u,d,b,y,w,$=e;2!==x&&(x=2,c&&clearTimeout(c),r=n,s=a||"",k.readyState=t>0?4:0,u=t>=200&&300>t||304===t,i&&(y=q(h,k,i)),y=L(h,y,k,u),u?(h.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(st.lastModified[o]=w),w=k.getResponseHeader("etag"),w&&(st.etag[o]=w)),204===t?$="nocontent":304===t?$="notmodified":($=y.state,d=y.data,b=y.error,u=!b)):(b=$,(t||!$)&&($="error",0>t&&(t=0))),k.status=t,k.statusText=(e||$)+"",u?m.resolveWith(f,[d,$,k]):m.rejectWith(f,[k,$,b]),k.statusCode(v),v=n,l&&p.trigger(u?"ajaxSuccess":"ajaxError",[k,h,u?d:b]),g.fireWith(f,[k,$]),l&&(p.trigger("ajaxComplete",[k,h]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=n),e=e||{};var r,o,s,a,c,u,l,d,h=st.ajaxSetup({},e),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?st(f):st.event,m=st.Deferred(),g=st.Callbacks("once memory"),v=h.statusCode||{},b={},y={},x=0,w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=de.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=y[n]=y[n]||t,b[t]=e),this},overrideMimeType:function(t){return x||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(m.promise(k).complete=g.add,k.success=k.done,k.error=k.fail,h.url=((t||h.url||se)+"").replace(ue,"").replace(pe,oe[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=st.trim(h.dataType||"*").toLowerCase().match(ct)||[""],null==h.crossDomain&&(u=me.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===oe[1]&&u[2]===oe[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(oe[3]||("http:"===oe[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=st.param(h.data,h.traditional)),A(ve,h,e,k),2===x)return k;l=h.global,l&&0===st.active++&&st.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!fe.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(ce.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=le.test(o)?o.replace(le,"$1_="+ae++):o+(ce.test(o)?"&":"?")+"_="+ae++)),h.ifModified&&(st.lastModified[o]&&k.setRequestHeader("If-Modified-Since",st.lastModified[o]),st.etag[o]&&k.setRequestHeader("If-None-Match",st.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ye+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)k.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(f,k,h)===!1||2===x))return k.abort();w="abort";for(d in{success:1,error:1,complete:1})k[d](h[d]);if(r=A(be,h,e,k)){k.readyState=1,l&&p.trigger("ajaxSend",[k,h]),h.async&&h.timeout>0&&(c=setTimeout(function(){k.abort("timeout")},h.timeout));try{x=1,r.send(b,i)}catch($){if(!(2>x))throw $;i(-1,$)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return st.get(t,e,n,"json")},getScript:function(t,e){return st.get(t,n,e,"script")}}),st.each(["get","post"],function(t,e){st[e]=function(t,i,r,o){return st.isFunction(i)&&(o=o||r,r=i,i=n),st.ajax({url:t,type:e,dataType:o,data:i,success:r})}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return st.globalEval(t),t}}}),st.ajaxPrefilter("script",function(t){t.cache===n&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),st.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=st("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),V.head.appendChild(e[0])},abort:function(){n&&n()}}}});var we=[],ke=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=we.pop()||st.expando+"_"+ae++;return this[t]=!0,t}}),st.ajaxPrefilter("json jsonp",function(e,i,r){var o,s,a,c=e.jsonp!==!1&&(ke.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ke.test(e.data)&&"data");return c||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=st.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(ke,"$1"+o):e.jsonp!==!1&&(e.url+=(ce.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||st.error(o+" was not called"),a[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},r.always(function(){t[o]=s,e[o]&&(e.jsonpCallback=i.jsonpCallback,we.push(o)),a&&st.isFunction(s)&&s(a[0]),a=s=n}),"script"):n}),st.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var $e=st.ajaxSettings.xhr(),Te={0:200,1223:204},Ce=0,je={};t.ActiveXObject&&st(t).on("unload",function(){for(var t in je)je[t]();je=n}),st.support.cors=!!$e&&"withCredentials"in $e,st.support.ajax=$e=!!$e,st.ajaxTransport(function(t){var e;return st.support.cors||$e&&!t.crossDomain?{send:function(i,r){var o,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)a.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(delete je[s],e=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?r(a.status||404,a.statusText):r(Te[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:n,a.getAllResponseHeaders()))}},a.onload=e(),a.onerror=e("error"),e=je[s=Ce++]=e("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){e&&e()}}:n});var Ne,Se,Ee=/^(?:toggle|show|hide)$/,Ae=RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),De=/queueHooks$/,qe=[M],Le={"*":[function(t,e){var n,i,r=this.createTween(t,e),o=Ae.exec(e),s=r.cur(),a=+s||0,c=1,u=20;if(o){if(n=+o[2],i=o[3]||(st.cssNumber[t]?"":"px"),"px"!==i&&a){a=st.css(r.elem,t,!0)||n||1;do c=c||".5",a/=c,st.style(r.elem,t,a+i);while(c!==(c=r.cur()/s)&&1!==c&&--u)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};st.Animation=st.extend(I,{tweener:function(t,e){st.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],Le[n]=Le[n]||[],Le[n].unshift(e)},prefilter:function(t,e){e?qe.unshift(t):qe.push(t)}}),st.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(st.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.pos=e=this.options.duration?st.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=st.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){st.fx.step[t.prop]?st.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[st.cssProps[t.prop]]||st.cssHooks[t.prop])?st.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},st.each(["toggle","show","hide"],function(t,e){var n=st.fn[e];st.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(B(e,!0),t,i,r)}}),st.fn.extend({fadeTo:function(t,e,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=st.isEmptyObject(t),o=st.speed(e,n,i),s=function(){var e=I(this,st.extend({},t),o);s.finish=function(){e.stop(!0)},(r||vt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=n),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=st.timers,s=vt.get(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&De.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(i),e=!1,o.splice(n,1));(e||!i)&&st.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=st.timers,s=i?i.length:0;for(n.finish=!0,st.queue(this,t,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),st.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){st.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),st.speed=function(t,e,n){var i=t&&"object"==typeof t?st.extend({},t):{complete:n||!n&&e||st.isFunction(t)&&t,duration:t,easing:n&&e||e&&!st.isFunction(e)&&e};return i.duration=st.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in st.fx.speeds?st.fx.speeds[i.duration]:st.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){st.isFunction(i.old)&&i.old.call(this),i.queue&&st.dequeue(this,i.queue)},i},st.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},st.timers=[],st.fx=H.prototype.init,st.fx.tick=function(){var t,e=st.timers,i=0;for(Ne=st.now();e.length>i;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||st.fx.stop(),Ne=n},st.fx.timer=function(t){t()&&st.timers.push(t)&&st.fx.start()},st.fx.interval=13,st.fx.start=function(){Se||(Se=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(Se),Se=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fx.step={},st.expr&&st.expr.filters&&(st.expr.filters.animated=function(t){return st.grep(st.timers,function(e){return t===e.elem}).length}),st.fn.offset=function(t){if(arguments.length)return t===n?this:this.each(function(e){st.offset.setOffset(this,t,e)});var e,i,r=this[0],o={top:0,left:0},s=r&&r.ownerDocument;return s?(e=s.documentElement,st.contains(e,r)?(typeof r.getBoundingClientRect!==z&&(o=r.getBoundingClientRect()),i=P(s),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o):void 0},st.offset={setOffset:function(t,e,n){var i,r,o,s,a,c,u,l=st.css(t,"position"),d=st(t),h={};"static"===l&&(t.style.position="relative"),a=d.offset(),o=st.css(t,"top"),c=st.css(t,"left"),u=("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1,u?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),st.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):d.css(h)}},st.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===st.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),st.nodeName(t[0],"html")||(i=t.offset()),i.top+=st.css(t[0],"borderTopWidth",!0),i.left+=st.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-st.css(n,"marginTop",!0),left:e.left-i.left-st.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||X;t&&!st.nodeName(t,"html")&&"static"===st.css(t,"position");)t=t.offsetParent;return t||X})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var r="pageYOffset"===i;st.fn[e]=function(o){return st.access(this,function(e,o,s){var a=P(e);return s===n?a?a[i]:e[o]:(a?a.scrollTo(r?t.pageXOffset:s,r?s:t.pageYOffset):e[o]=s,n)},e,o,arguments.length,null)}}),st.each({Height:"height",Width:"width"},function(t,e){st.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,r){st.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return st.access(this,function(e,i,r){var o;return st.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):r===n?st.css(e,i,a):st.style(e,i,r,a)},e,s?r:n,s,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=st:"function"==typeof e&&e.amd&&e("jquery",[],function(){return st}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=st)}(window)}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([3]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="m-menu'),i.s(i.f("dialog",t,e,1),t,e,0,29,43,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(" m-menu-dialog")}),t.pop()),i.b('">\r'),i.b("\n"+n),i.s(i.f("dialog",t,e,1),t,e,0,70,466,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('	<div class="toolbar">\r'),i.b("\n"+n),i.b("		"),i.s(i.f("back",t,e,1),t,e,0,107,171,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="back"><span class="arrow-left"></span>'),n.b(n.v(n.f("back",t,e,0))),n.b("</div>")}),t.pop()),i.b("\r"),i.b("\n"+n),i.b("		\r"),i.b("\n"+n),i.s(i.f("search",t,e,1),t,e,1,0,0,"")||(i.b('		<div class="title">'),i.b(i.v(i.f("title",t,e,0))),i.b("</div>\r"),i.b("\n"+n),i.b("		"),i.s(i.f("ok",t,e,1),t,e,0,248,278,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="ok">'),n.b(n.v(n.f("text",t,e,0))),n.b("</div>")}),t.pop()),i.b("\r"),i.b("\n")),i.s(i.f("search",t,e,1),t,e,0,315,443,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('		<div class="search">\r'),i.b("\n"+n),i.b('			<div class="box">\r'),i.b("\n"+n),i.b('				<form><input type="text" value="'),i.b(i.v(i.f("text",t,e,0))),i.b('" /></form>\r'),i.b("\n"+n),i.b("			</div>\r"),i.b("\n"+n),i.b("		</div>\r"),i.b("\n")}),t.pop()),i.b("	</div>\r"),i.b("\n")}),t.pop()),i.s(i.f("label",t,e,1),t,e,0,490,536,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('	<div class="label">\r'),i.b("\n"+n),i.b("		"),i.b(i.v(i.f("text",t,e,0))),i.b("\r"),i.b("\n"+n),i.b("	</div>\r"),i.b("\n")}),t.pop()),i.b('	<ul class="menus">\r'),i.b("\n"+n),i.s(i.f("menu",t,e,1),t,e,0,579,1333,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.s(i.f("api",t,e,1),t,e,1,0,0,"")||(i.s(i.d(".",t,e,1),t,e,0,602,1261,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.s(i.f("description",t,e,1),t,e,1,0,0,"")||(i.b('			<li class="'),i.s(i.f("cls",t,e,1),t,e,0,647,655,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(n.v(n.f("cls",t,e,0))),n.b(" ")}),t.pop()),i.s(i.f("deep",t,e,1),t,e,0,672,676,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("deep")}),t.pop()),i.b('"'),i.s(i.f("key",t,e,1),t,e,0,694,713,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(' data-key="'),n.b(n.v(n.f("key",t,e,0))),n.b('"')}),t.pop()),i.b(">\r"),i.b("\n"+n),i.b('				<div class="box">\r'),i.b("\n"+n),i.b('					<div class="text">'),i.b(i.v(i.f("name",t,e,0))),i.b("</div>"),i.s(i.f("deep",t,e,1),t,e,0,793,834,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="deep-text">'),n.b(n.v(n.f("deepText",t,e,0))),n.b("</div>")}),t.pop()),i.s(i.f("switcher",t,e,1),t,e,0,856,901,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="switcher'),n.s(n.f("on",t,e,1),t,e,0,883,886,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" on")}),t.pop()),n.b('"></div>')}),t.pop()),i.b("\r"),i.b("\n"+n),i.b('					<div class="scroll-menu">\r'),i.b("\n"+n),i.s(i.f("scrollMenu",t,e,1),t,e,0,968,1086,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('						<div class="item'),n.s(n.f("cls",t,e,1),t,e,0,1e3,1008,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" "),n.b(n.v(n.f("cls",t,e,0)))}),t.pop()),n.b('" data-index="'),n.b(n.v(n.f("index",t,e,0))),n.b('"><div class="text">'),n.b(n.v(n.f("name",t,e,0))),n.b("</div></div>\r"),n.b("\n")}),t.pop()),i.b("					</div>\r"),i.b("\n"+n),i.b("				</div>\r"),i.b("\n"+n),i.b("			</li>\r"),i.b("\n")),i.b("			"),i.s(i.f("description",t,e,1),t,e,0,1178,1240,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('</ul><div class="description">'),n.b(n.v(n.f("text",t,e,0))),n.b('</div><ul class="menus">')}),t.pop()),i.b("\r"),i.b("\n")}),t.pop()),i.s(i.d(".",t,e,1),t,e,1,0,0,"")||(i.b('				</ul><ul class="menus">\r'),i.b("\n")))}),t.pop()),i.b("	</ul>\r"),i.b("\n"+n),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([4]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<ul class="menus">\r'),i.b("\n"+n),i.s(i.f("menu",t,e,1),t,e,0,29,715,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.s(i.d(".",t,e,1),t,e,0,38,669,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.s(i.f("description",t,e,1),t,e,1,0,0,"")||(i.b('	<li class="'),i.s(i.f("cls",t,e,1),t,e,0,79,87,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(n.v(n.f("cls",t,e,0))),n.b(" ")}),t.pop()),i.s(i.f("deep",t,e,1),t,e,0,104,108,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("deep")}),t.pop()),i.b('"'),i.s(i.f("key",t,e,1),t,e,0,126,145,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(' data-key="'),n.b(n.v(n.f("key",t,e,0))),n.b('"')}),t.pop()),i.b(">\r"),i.b("\n"+n),i.b('		<div class="box">\r'),i.b("\n"+n),i.b('			<div class="text">'),i.b(i.v(i.f("name",t,e,0))),i.b("</div>"),i.s(i.f("deep",t,e,1),t,e,0,221,262,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="deep-text">'),n.b(n.v(n.f("deepText",t,e,0))),n.b("</div>")}),t.pop()),i.s(i.f("switcher",t,e,1),t,e,0,284,329,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="switcher'),n.s(n.f("on",t,e,1),t,e,0,311,314,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" on")}),t.pop()),n.b('"></div>')}),t.pop()),i.b("\r"),i.b("\n"+n),i.b('			<div class="scroll-menu">\r'),i.b("\n"+n),i.s(i.f("scrollMenu",t,e,1),t,e,0,392,506,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('				<div class="item'),n.s(n.f("cls",t,e,1),t,e,0,422,430,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" "),n.b(n.v(n.f("cls",t,e,0)))}),t.pop()),n.b('" data-index="'),n.b(n.v(n.f("index",t,e,0))),n.b('"><div class="text">'),n.b(n.v(n.f("name",t,e,0))),n.b("</div></div>\r"),n.b("\n")}),t.pop()),i.b("			</div>\r"),i.b("\n"+n),i.b("		</div>\r"),i.b("\n"+n),i.b("	</li>\r"),i.b("\n")),i.b("	"),i.s(i.f("description",t,e,1),t,e,0,588,650,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('</ul><div class="description">'),n.b(n.v(n.f("text",t,e,0))),n.b('</div><ul class="menus">')}),t.pop()),i.b("\r"),i.b("\n")}),t.pop()),i.b("	"),i.s(i.d(".",t,e,1),t,e,1,0,0,"")||i.b('</ul><ul class="menus">'),i.b("\r"),i.b("\n")}),t.pop()),i.b("</ul>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([5]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<li class="'),i.s(i.f("cls",t,e,1),t,e,0,19,27,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(n.v(n.f("cls",t,e,0))),n.b(" ")}),t.pop()),i.s(i.f("deep",t,e,1),t,e,0,44,48,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b("deep")}),t.pop()),i.b('"'),i.s(i.f("key",t,e,1),t,e,0,66,85,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(' data-key="'),n.b(n.v(n.f("key",t,e,0))),n.b('"')}),t.pop()),i.b(">\r"),i.b("\n"+n),i.b('	<div class="box">\r'),i.b("\n"+n),i.b('		<div class="text">'),i.b(i.v(i.f("name",t,e,0))),i.b("</div>"),i.s(i.f("deep",t,e,1),t,e,0,159,200,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="deep-text">'),n.b(n.v(n.f("deepText",t,e,0))),n.b("</div>")}),t.pop()),i.s(i.f("switcher",t,e,1),t,e,0,222,267,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="switcher'),n.s(n.f("on",t,e,1),t,e,0,249,252,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" on")}),t.pop()),n.b('"></div>')}),t.pop()),i.b("\r"),i.b("\n"+n),
i.b('		<div class="scroll-menu">\r'),i.b("\n"+n),i.s(i.f("scrollMenu",t,e,1),t,e,0,328,440,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('			<div class="item'),n.s(n.f("cls",t,e,1),t,e,0,357,365,"{{ }}")&&(n.rs(t,e,function(t,e,n){n.b(" "),n.b(n.v(n.f("cls",t,e,0)))}),t.pop()),n.b('" data-index="'),n.b(n.v(n.f("index",t,e,0))),n.b('"><div class="text">'),n.b(n.v(n.f("name",t,e,0))),n.b("</div></div>\r"),n.b("\n")}),t.pop()),i.b("		</div>\r"),i.b("\n"+n),i.b("	</div>\r"),i.b("\n"+n),i.b("</li>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([6]))};e.amd=!0,function(t){!function(){if(!("onhashchange"in t.document.body)){var e=t.location,n=e.href,i=e.hash;setInterval(function(){var r=e.href,o=e.hash;o!=i&&"function"==typeof t.onhashchange&&(t.onhashchange({type:"hashchange",oldURL:n,newURL:r}),n=r,i=o)},100)}}();var e=parseInt(t.location.hash.substring(1),10)||0,n={},i=function(){var e=parseInt(t.location.hash.substring(1),10)||0;n[e]&&$.each(n,function(t,i){parseInt(t,10)>=e&&(i(),delete n[t])})};t.onhashchange=i,history.push=function(i){var r=parseInt(t.location.hash.substring(1),10)||0;n[r]=i,e++,t.location.hash=e}}(this)}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([7]))};e.amd=!0,e([3,4,5,2,6],function(t,e,n){var i={animate:400},r=function(t,e){this.dom=t,this.data=e,e.key&&(this.key=e.key),e.select&&(this.select=$("<select>"+e.select.map(function(t){return'<option value="'+t.value+'"'+(t.checked?'selected="selected"':"")+">"+t.name+"</option>"}).join("")+"</select>"),this.dom.append(this.select)),this.data.checked&&this.check(),this.data.hide&&this.hide(),this.init()};$.extend(r.prototype,{loading:function(){this.inLoading=!0,this.loadingDom||(this.loadingDom=$('<div class="mask"></div>')),this.dom.append(this.loadingDom)},text:function(t){this.dom.find(".box>.text").text(t)},deepText:function(t){this.dom.find(".deep-text").text(t)},loaded:function(){this.loadingDom&&this.loadingDom.remove(),this.inLoading=!1},init:function(){var t=this;if(this.data.switcher){var e=this.dom.find(".switcher");e.bind("click",$.proxy(function(){e.hasClass("on")?e.removeClass("on").addClass("off moveoff"):e.removeClass("off").addClass("on moveon"),setTimeout(function(){e.removeClass("moveon").removeClass("moveoff")},100),this.data.onswitch&&this.data.onswitch.call(this,e.hasClass("on"))},this))}else if(this.data.select)this.select.bind("change",$.proxy(function(){this.data.onchange&&this.data.onchange.call(this,this.select.val())},this));else{var n=$.proxy(function(t){if(!this.inLoading){if(t&&t.target){if(this.scrolling)return void($(t.target).parents(".scroll-menu").length||(this.dom.find(".box").animate({"margin-left":"0px"},200),this.scrolling=!1));if("INPUT"==t.target.tagName||"FORM"==t.target.tagName)return}this.data.onclick&&this.data.onclick.call(this)}},this);if(this.click=n,this.dom.bind("click",n),this.data.scrollMenu){this.scrolling=!1;var i=this.dom.find(".scroll-menu .item").width(),r=!1,o=!1,s=!1,a=-this.data.scrollMenu.length*i,c=0,u=this.dom.find(".box");this.dom.bind("touchstart",function(t){r=u,c=parseInt(r.css("margin-left"),10)||0;var e=t.originalEvent,n=e.touches?e.touches[0]:e;o={x:n.pageX,y:n.pageY}}),$(document).bind("touchmove",function(e){if(r){var n=e.originalEvent,i=n.touches?n.touches[0]:n;if(!s){if(!(Math.abs(o.x-i.pageX)>Math.abs(o.y-i.pageY)))return r=!1,o=!1,void(s=!1);s=!0,o.x-=parseInt(r.css("margin-left"),10)||0}e.preventDefault();var u=i.pageX-o.x;u>0?u=0:a>u&&(u=a),c=u,r.css("margin-left",u+"px"),t.scrolling=!0}}),$(document).bind("touchend",function(e){if(r){var n=parseInt(c/i-.5)*i;r.animate({"margin-left":n+"px"},200),n||(t.scrolling=!1)}r=!1,o=!1,s=!1,c=0}),this.dom.delegate(".scroll-menu .item","click",function(){var e=$(this).index()||0,n=t.data.scrollMenu[e];n&&n.click.call(t,t.data)})}}},initInput:function(){this.form=$('<form style="display: none"><input type="text" /></form>'),this.dom.append(this.form);var t=this.form.find("input"),e=$.proxy(function(e){$.trim(t.val())?this.data.oninput&&this.data.oninput.call(this,t.val()):this.reset()},this);t.bind("blur",e),this.form.bind("submit",function(e){e.preventDefault(),t.blur()})},input:function(){this.form||this.initInput(),this.scrolling&&(this.dom.find(".box").css("margin-left","0px"),setTimeout($.proxy(function(){this.scrolling=!1},this),10)),this.dom.addClass("inputing"),this.form.show(),this.form.find("input").focus()},reset:function(){this.loaded(),this.unactive(),this.dom.removeClass("inputing"),this.form.hide(),this.form.find("input").val(""),this.dom.find(".box").css("margin-left","0")},active:function(){this.dom.addClass("active")},unactive:function(){this.dom.removeClass("active")},remove:function(){this.dom.remove()},check:function(){this.dom.addClass("checked")},uncheck:function(){this.dom.removeClass("checked")},checked:function(){return this.dom.hasClass("checked")},show:function(){this.dom&&this.dom.show(),this.dom.parent().show()},hide:function(){this.dom&&this.dom.hide();var t=this.dom.parent();t.children(":visible").length||t.hide()}});var o=function(t){this.config=$.extend({dialog:{back:"返回",title:"test"},menu:[{name:"Has Deep",deep:!0,onclick:function(){}},{name:"No deep",onclick:function(){}},{key:"add",name:"增加检测酒店",onclick:function(){}}],parent:!1},t),this.config.dialog&&(this.config.parent=document.body,this.title=function(t){this.dom.find(".toolbar .title").text(t)}),this.status={loading:!1},this.init()};return $.extend(o.prototype,{init:function(){this.dom=$(t.render(this.config));var e=this.dom.find(".menus:eq(0)");e.children().length||e.remove(),this.config.dialog&&(this.dom.hide(),this.dom.find(".toolbar .back").bind("click",function(){history.back()}),this.config.dialog.search?this.initSearch():this.config.dialog.ok&&this.dom.find(".toolbar .ok").bind("click",$.proxy(function(){this.config.dialog.ok.onclick&&this.config.dialog.ok.onclick.call(this)===!1||history.back()},this))),this.dom.appendTo(this.config.parent),this.config.menu instanceof Array?this.initItems(this.config.menu):!this.config.menu.api||this.config.dialog&&this.config.dialog.search||this.getData(this.config.menu)},initSearch:function(){var t=$.proxy(function(t){this.search()},this),e=this.dom.find(".toolbar input");e.bind("blur",t),e.parent().bind("submit",function(t){t.preventDefault(),e.blur()}),this.search()},search:function(){var t=$.trim(this.dom.find(".toolbar input").val());if(t){var e={api:this.config.menu.api,render:this.config.menu.render,data:$.extend({},this.config.menu.data),type:this.config.menu.type||"get"};e.data[this.config.dialog.search.key||"search"]=t,this.getData(e)}},getData:function(t){this.loading(),$.ajax({url:t.api,data:t.data,type:t.type||"get",success:$.proxy(function(e){e.status&&this.menu(t.render(e.data))},this)})},loading:function(){this.dom.find(".menus").remove(),this.dom.append('<ul class="menus"><li class="loading"><div class="text">Loading...</div></li></ul>')},menu:function(t){this.dom.find(".menus").remove(),this.dom.append(e.render({menu:t}));var n=this.dom.find(".menus:eq(0)");n.children().length||n.remove(),this.initItems(t)},insertBefore:function(t,e){if(!e)return this.append(t);var n=this.newItem(t);n.dom.insertBefore(e.dom),this.items=this.items||[];for(var i=0;i<this.items.length&&this.items[i]!=e;i++);this.items.splice(i,0,n)},insertAfter:function(t,e){if(!e)return this.append(t);var n=this.newItem(t);n.dom.insertAfter(e.dom),this.items=this.items||[];for(var i=0;i<this.items.length&&this.items[i]!=e;i++);this.items.splice(i+1,0,n)},append:function(t){var e=this.newItem(t);this.items=this.items||[],this.items.push(e),this.dom.find(".menus:last-child").append(e.dom)},newItem:function(t){var e=$(n.render(t));return new r(e,t)},initItems:function(t){var e=(t||[]).filter(function(t){return t&&t.description!==!0?!0:!1}),n=[];this.dom.find(".menus li").each(function(t){$(this).hasClass("loading")||n.push(new r($(this),e[t]))}),this.items=n},item:function(t){if(t&&this.items)for(var e=0;e<this.items.length;e++)if(this.items[e].key===t)return this.items[e]},remove:function(){this.dom.remove()},hide:function(){this.dom.removeClass("flyin").addClass("flyout"),setTimeout($.proxy(function(){this.dom.remove()},this),i.animate)},show:function(){this.dom.show().addClass("flyin"),setTimeout($.proxy(function(){this.dom.removeClass("flyin")},this),i.animate),history.push($.proxy(this.hide,this))}}),o})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([8]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="m-article">\r'),i.b("\n"+n),i.b('	<div class="title"><label>标题:</label><input type="text" value="'),i.b(i.v(i.f("title",t,e,0))),i.b('" /></div>\r'),i.b("\n"+n),i.b('	<div class="thumb">\r'),i.b("\n"+n),i.b("		<label>缩略图:</label>\r"),i.b("\n"+n),i.b('		<div class="thumb-panel">\r'),i.b("\n"+n),i.b('			<div class="stage"'),i.s(i.f("image",t,e,1),t,e,1,0,0,"")||i.b(' style="display:none"'),i.b(">\r"),i.b("\n"+n),i.b('				<div class="image-frame">\r'),i.b("\n"+n),i.b('					<img src="'),i.b(i.v(i.f("image",t,e,0))),i.b('" />\r'),i.b("\n"+n),i.b("				</div>\r"),i.b("\n"+n),i.b('				<span class="hide">删除</span>\r'),i.b("\n"+n),i.b("			</div>\r"),i.b("\n"+n),i.b('			<input type="hidden" value="'),i.b(i.v(i.f("image",t,e,0))),i.b('" />\r'),i.b("\n"+n),i.b('			<div class="trigger">点击这里上传图片</div>\r'),i.b("\n"+n),i.b("		</div>\r"),i.b("\n"+n),i.b("	</div>\r"),i.b("\n"+n),i.b('	<div class="body"><label>内容:</label><textarea>'),i.b(i.v(i.f("content",t,e,0))),i.b("</textarea></div>\r"),i.b("\n"+n),i.b("	\r"),i.b("\n"+n),i.b('	<div class="save">保存</div>\r'),i.b("\n"+n),i.b('	<div class="cancel">取消</div>\r'),i.b("\n"+n),i.b('	<div class="close">&times;</div>\r'),i.b("\n"+n),i.b("	"),i.s(i.f("id",t,e,1),t,e,0,655,685,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="remove">删除文章</div>')}),t.pop()),i.b("\r"),i.b("\n"+n),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([9]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="m-article">\r'),i.b("\n"+n),i.b('	<div class="loading">Loading...</div>\r'),i.b("\n"+n),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([10]))};e.amd=!0,e(function(){var t=function(){var t=$('<div class="uploader" style="width:0;height:0;overflow: hidden; display: inline-block"><input type="file" accept="" /></div>'),e=t.find("input");return{load:function(n){var i=$.extend({selector:!1,api:"/api/image/upload",accept:".jpg,.jpeg,.png,.gif",key:"image"},n);e.attr("accept",i.accept);var r=$(i.selector);t.insertBefore(r),e.trigger("click"),e.unbind("change").bind("change",function(){var n=e[0].files[0];if(n){var o=$('<div class="uploader-message"></div>').insertBefore(r);r.hide();var s=i.key,a=new FormData;a.append(s,n);var c=function(t){o.text("上传中... "+parseInt(100*t.loaded/t.total)+"%")},u=function(e){var n=JSON.parse(e.target.responseText);o.hide(),n.status&&n.data[s]?(r.show(),t.remove(),i.callback&&i.callback(n.data[s])):l()},l=function(){o.text("上传失败"),setTimeout(function(){o.hide(),r.show()},1e3)},d=new XMLHttpRequest;d.upload.addEventListener("progress",c,!1),d.addEventListener("load",u,!1),d.addEventListener("error",l,!1),d.addEventListener("abort",l,!1),d.open("POST",i.api),d.send(a)}})}}}();return t})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([11]))};e.amd=!0,e([2],function(){if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.msie=!1;var t=navigator.userAgent;jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var e,n,i;-1!=(n=t.indexOf("Opera"))?(jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=t.substring(n+6),-1!=(n=t.indexOf("Version"))&&(jQuery.browser.fullVersion=t.substring(n+8))):-1!=(n=t.indexOf("MSIE"))?(jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=t.substring(n+5)):-1!=(n=t.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=t.substring(n+7)):-1!=(n=t.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=t.substring(n+7),-1!=(n=t.indexOf("Version"))&&(jQuery.browser.fullVersion=t.substring(n+8))):-1!=(n=t.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=t.substring(n+8)):(e=t.lastIndexOf(" ")+1)<(n=t.lastIndexOf("/"))&&(jQuery.browser.name=t.substring(e,n),jQuery.browser.fullVersion=t.substring(n+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName)),-1!=(i=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,i)),-1!=(i=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,i)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([12]))};e.amd=!0,e([2],function(){var t={element:!1,aclist:"ul,ol,li,dl,dd,dt,a,span,font,p,div,br,img",discard:"style,script,meta",toolbar:"color,bold,italic,underline,|,orderlist,unorderlist,link,|,justify-left,justify-center,justify-right",maxHistory:100},e=function(t){this.config=$.extend({max:100},t)};$.extend(e.prototype,{undo:function(){if(this.flag<1)return!1;var t=this.snapshot();return this.fixiecontent(this.steps[this.flag-1].content)==this.fixiecontent(t.content)?this.steps[this.flag-1].range=t.range:this.save(),1==this.flag?!1:(this.flag--,this.steps[this.flag-1])},fixiecontent:function(t){return $.browser.msie?t.replace(/[ \n\r]/g,""):t},redo:function(){var t=this.snapshot();return this.steps.length>this.flag&&this.fixiecontent(this.steps[this.flag-1].content)==this.fixiecontent(t.content)?(this.flag++,this.steps[this.flag-1]):!1},save:function(){for(this.steps.length>this.flag&&(this.steps=this.steps.slice(0,this.flag)),this.flag=this.steps.push(this.snapshot());this.flag>this.config.max;)this.steps.shift(),this.flag=this.steps.length;this.config.onsave&&this.config.onsave()},autosave:function(){var t=this.snapshot();return this.fixiecontent(this.steps[this.flag-1].content)==this.fixiecontent(t.content)?void(this.steps[this.flag-1].range=t.range):(this.autosavehandler&&clearTimeout(this.autosavehandler),void(this.autosavehandler=setTimeout($.proxy(this._autosave,this),600)))},_autosave:function(){var t=this.snapshot();return this.fixiecontent(this.steps[this.flag-1].content)==this.fixiecontent(t.content)?void(this.steps[this.flag-1].range=t.range):(this.save(),void(this.autosavehandler=!1))},autosavehandler:!1,steps:[],flag:0,clean:function(){this.steps=[],this.flag=0},snapshot:function(){}});var n=0,i=function(e,i){this.config=$.extend({shortcuts:{}},t,i),this.key=$(e),this.id=n++,this.init()};i.cache={},i.trigger=function(t,e){$(t).trigger(e)},$.extend(i.prototype,{init:function(){this.build(),this.initShortcuts(),this.initEvents(),this.initSteps(),this.initToolbar(),this.config.element&&this.load(this.config.element)},geturl:function(t){var e=[];return e.push('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'),e.push("<html>","<head>"),e.push('<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />'),e.push("<title>QEditor</title>"),e.push('<style type="text/css"> * { margin: 0; padding: 0; } html,body{height: 100%;}</style>'),e.push('<link rel="stylesheet" type="text/css" href="/css/iframe-editor-1.0.css" />'),e.push("</head>",'<body class="editormode"'),$.browser.msie&&$.browser.version<9&&(e.push(" onpaste=\"parent.$.Editor.trigger(document,'paste');return true;\""),e.push(" oncut=\"parent.$.Editor.trigger(document,'cut');return true;\"")),e.push(">"+t+"</body>","</html>"),e.join("")},build:function(){var t=this.key.val();i.cache[this.id]=this.geturl(t);var e=$('<iframe frameBorder="0" src="javascript:parent.$.Editor.cache['+this.id+']"></iframe>'),n=$.browser.webkit,r=!1;e.bind("load",$.proxy(function(){return n?void(n=!1):(this.win=e[0].contentWindow,this.doc=this.win.document,this.dom=$(this.doc.body),this.body=this.doc.body,this.body.designMode="on",this.body.contentEditable="true",void setTimeout($.proxy(function(){this.initIframeEvents(),this.initTools(),r||(r=!0,this.trigger("editor-load"))},this),15))},this)),this.frame=e,this.autowidth=this.key.outerWidth()-10||"auto",this.autoheight=this.key.outerHeight()-10||"auto",this.frame.height(this.autoheight-46||"auto"),this.panel=$('<div class="qeditor"></div>').width(this.autowidth).height(this.autoheight),this.frame.appendTo(this.panel),this.panel.insertBefore(this.key),this.key.hide()},initShortcuts:function(){var t={Z:function(){this.actions.undo()},Y:function(){this.actions.redo()},B:function(){this.actions.bold()},M:function(){this.actions.center()},L:function(){this.actions.left()},R:function(){this.actions.right()}};for(var e in this.config.shortcuts)1==e.length&&e.toUpperCase()!=e&&(t[e.toUpperCase()]=this.config.shortcuts[e]);this.config.shortcuts=$.extend(t,this.config.shortcuts)},initTools:function(){this._div||(this._div=$(this.doc.createElement("div"))),this.range.win=this.win,this.range.doc=this.doc,this.range.body=this.body,this.range.dom=this.dom},initToolbar:function(){this.toolbar=new r({items:this.config.toolbar,callback:$.proxy(function(t){t(this)},this)}),this.toolbar.insertBefore(this.frame),this.toolbar.load()},sync:function(){this.key.val(this.val())},initSteps:function(){if(this.steps=new e({max:this.config.maxHistory,onsave:$.proxy(this.sync,this)}),this.bind("editor-load",$.proxy(function(){this.focus(),this.steps.clean(),this.steps.save()},this)),$.browser.msie)this.steps.snapshot=$.proxy(function(){var t=this.doc.selection.createRange();if(t.item&&!t.getBookmark){var e=t.item(),n=this.doc.body.createTextRange();n.moveToElementText(e.parentNode),n.moveStart("character",$(e.parentNode).text().length),n.moveEnd("character",0),t=n}return{content:this.dom.html(),range:t.getBookmark()}},this),this.steps.use=$.proxy(function(t){this.dom.html(t.content);var e=this.doc.selection.createRange();e.moveToBookmark(t.range),e.select(),this.sync()},this);else{var t=function(t,e){for(var n=[],i=$(e)[0],r=$(t)[0];i!=r&&i;){for(var o=i.parentNode.childNodes,s=0;s<o.length;s++)if(o[s]==i){n.unshift(s);break}i=i.parentNode}return n},n=function(t,e){for(var n=$(t)[0],i=0;i<e.length&&n.childNodes;i++)n=n.childNodes[e[i]];return n};this.steps.snapshot=$.proxy(function(){var e=this.win.getSelection();if(e.anchorNode){var n=this.win.getSelection().getRangeAt(0);try{var i={endOffset:n.endOffset,endContainer:t(this.dom,n.endContainer)}}catch(r){var i={endOffset:0,endContainer:this.dom[0]}}for(var o=n.startContainer;o!=this.dom[0]&&(o=o.parentNode););o?(i.startOffset=n.startOffset,i.startContainer=t(this.dom,n.startContainer)):(this.win.getSelection().removeAllRanges(),i.startOffset=i.endOffset,i.startContainer=i.endContainer)}else var i={endOffset:0,startOffset:0,endContainer:this.dom[0],startContainer:this.dom[0]};return{content:this.dom.html(),range:i}},this),this.steps.use=$.proxy(function(t){this.dom.html(t.content),this.dom.focus();var e=t.range,i=this.doc.createRange();i.setStart(n(this.dom,e.startContainer),e.startOffset),i.setEnd(n(this.dom,e.endContainer),e.endOffset),this.win.getSelection().removeAllRanges(),this.win.getSelection().addRange(i),this.sync()},this)}this.bind("editor-keydown",$.proxy(function(t,e){for(var n=[17,91,18,16,20,112,113,114,115,116,117,118,119,120,121,122,123,45],i=0;i<n.length;i++)if(n[i]==e.keyCode)return;(86!=e.keyCode&&88!=e.keyCode&&89!=e.keyCode&&90!=e.keyCode||!e.ctrlKey)&&this.steps.autosave()},this)),this.bind("editor-mousedown",$.proxy(function(t,e){this.steps.autosave()},this)),this.bind("editor-mouseup",$.proxy(function(t,e){this.steps.autosave()},this))},val:function(t){return"undefined"==typeof t?this.dom.html():(this.dom.html(t),this.steps.autosave(),this.sync(),this)},text:function(){return this.dom.text()},fullscreen:function(){var t=!1,e=this,n=0,r=$('<div style="display: none"></div>'),o=function(){if(!t)return t=!1,void $(window).unbind("resize",o);var n=$(window).width(),i=$(window).height();e.panel.css("position","absolute"),e.panel.height(i-10),e.frame.height(i-55),e.panel.width(n),e.panel.css("left",0),e.panel.css("top",0),$(document.body).css("overflow","hidden")};this.fullscreen=function(){i.cache[this.id]=this.geturl(this.val()),t?(t=!1,this.panel.insertBefore(r),r.remove(),$(window).unbind("resize",o),this.panel.css("position","static"),this.panel.height("auto"),this.frame.height("auto"),this.panel.width(this.autowidth),$(document.body).css("overflow","auto"),$(window).scrollTop(n)):(n=$(window).scrollTop(),r.insertBefore(this.panel),this.panel.appendTo(document.body),$(window).bind("resize",o),t=!0,$(window).scrollTop(0),o())},this.fullscreen()},initEvents:function(){var t=$("<div></div>");this.bind=function(e,n){return t.bind(e,n),this},this.unbind=function(e,n){return t.unbind(e,n),this},this.trigger=function(e,n){return t.trigger(e,n),this},this.shortcut=$.proxy(function(t){if(t.ctrlKey){var e=String.fromCharCode(t.keyCode);if(this.config.shortcuts[e]){try{this.config.shortcuts[e].call(this)}catch(n){}t.preventDefault()}}},this),this.actions={keyup:$.proxy(function(e){e.ctrlKey&&86==e.keyCode||e.ctrlKey&&88==e.keyCode||setTimeout($.proxy(function(){this.trigger("editor-keyup",[t])},this),15)},this),keydown:$.proxy(function(t){if(9==t.keyCode){t.preventDefault(),t.stopPropagation();var e=this.getCurrentNode();try{for(;e!=this.dom[0]&&"BODY"!=e.tagName&&"LI"!=e.tagName&&"UL"!=e.tagName&&"OL"!=e.tagName;)e=e.parentNode;e&&"UL"==e.tagName||"OL"==e.tagName||"LI"==e.tagName?this.exec("indent"):this.insertHTML("<span>&nbsp;&nbsp; &nbsp;</span>")}catch(n){}}this.shortcut(t),setTimeout($.proxy(function(){this.trigger("editor-keydown",[t])},this),15)},this),mousedown:$.proxy(function(t){setTimeout($.proxy(function(){this.trigger("editor-mousedown",[t])},this),15)},this),mouseup:$.proxy(function(t){setTimeout($.proxy(function(){this.trigger("editor-mouseup",[t])},this),15)},this),focus:$.proxy(function(t){this.editing=!0,setTimeout($.proxy(function(){this.trigger("editor-focus",[t])},this),15)},this),blur:$.proxy(function(t){this.editing=!1,setTimeout($.proxy(function(){this.trigger("editor-blur",[t])},this),15)},this),paste:$.proxy(function(){setTimeout($.proxy(function(){o.fixContent(this.dom,this.config.aclist,this.config.discard),this.steps.save()},this),15)},this),cut:$.proxy(function(){setTimeout($.proxy(function(){this.steps.save()},this),15)},this),undo:$.proxy(function(){var t=this.steps.undo();t!==!1&&setTimeout($.proxy(function(){this.steps.use(t)},this),15)},this),redo:$.proxy(function(){var t=this.steps.redo();t!==!1&&setTimeout($.proxy(function(){this.steps.use(t)},this),15)},this),italic:$.proxy(function(){if(this.editing&&this.getSelectionText()){for(var t=this.range2dom(),e=/^(oblique|italic)$/i,n=!0,i=0;i<t.length;i++){var r=$(t[i]);if(!e.test(r.css("font-style"))){n=!1;break}}n?this.setStyle({"font-style":"normal"},t):this.setStyle({"font-style":"italic"},t),this.steps.autosave()}},this),underline:$.proxy(function(){if(this.editing&&this.getSelectionText()){for(var t=this.range2dom(),e=!0,n=0;n<t.length;n++){var i=$(t[n]);if("underline"!=i.css("text-decoration")){e=!1;break}}e?this.setStyle({"text-decoration":"none"},t):this.setStyle({"text-decoration":"underline"},t),this.steps.autosave()}},this),bold:$.proxy(function(){if(this.editing&&this.getSelectionText()){for(var t=this.range2dom(),e=/^(700|800|900|bold|bolder)$/i,n=!0,i=0;i<t.length;i++){var r=$(t[i]);if(!e.test(r.css("font-weight"))){n=!1;break}}n?this.setStyle({"font-weight":"normal"},t):this.setStyle({"font-weight":"bold"},t),this.steps.autosave()}},this),color:$.proxy(function(t){this.exec("foreColor",t),this.steps.autosave()},this),orderlist:$.proxy(function(){this.exec("InsertOrderedList"),this.steps.autosave()},this),unorderlist:$.proxy(function(){this.exec("InsertUnorderedList"),this.steps.autosave()},this),link:$.proxy(function(t,e){if(this.editing){var n;if($.trim(this.getSelectionText())||this.getSelectionImagesLength()){var i=(new Date).valueOf().toString();this.exec("CreateLink",i),n=this.dom.find('[href="'+i+'"]').attr("href",t);for(var r=n.length-1;r>=0;r--)r&&n[r].previousSibling==n[r-1]&&($(n[r-1]).html($(n[r-1]).html()+$(n[r]).html()),$(n[r]).remove(),n.splice(r,1))}else this._div.html(""),this._div.append(this.doc.createTextNode(t)),this.insertHTML('<a href="'+encodeURI(t)+'" -tempadded-="a">'+this._div.html()+"</a>"),this._div.html(""),n=this.dom.find('[-tempadded-="a"]').removeAttr("-tempadded-");e&&n.attr("target",e),n.each(function(){if(this.parentNode.firstChild==this.parentNode.lastChild&&"SPAN"==this.parentNode.tagName){var t=$(this.parentNode);t.replaceWith(this),$(this).attr("style",t.attr("style")),t.remove()}if(1==this.childNodes.length&&1==this.firstChild.nodeType){for(;this.firstChild.firstChild;)this.appendChild(this.firstChild.firstChild);$(this).attr("style",$(this.firstChild).remove().attr("style"))}}),this.selectNodes(n),this.steps.autosave()}},this),unlink:$.proxy(function(){this.exec("UnLink"),this.steps.autosave()},this),center:$.proxy(function(){this.exec("JustifyCenter"),this.dom.find('[align="center"]').css("text-align","center").removeAttr("align"),this.steps.autosave()},this),left:$.proxy(function(){this.exec("JustifyLeft"),this.dom.find('[align="left"]').css("text-align","left").removeAttr("align"),this.steps.autosave()},this),right:$.proxy(function(){this.exec("JustifyRight"),this.dom.find('[align="right"]').css("text-align","right").removeAttr("align"),this.steps.autosave()},this)}},initIframeEvents:function(){this.editing=!0;var t=$(this.doc);t.bind("keyup",this.actions.keyup),t.bind("keydown",this.actions.keydown),t.bind("mousedown",this.actions.mousedown),t.bind("mouseup",this.actions.mouseup),t.bind("paste",this.actions.paste),t.bind("cut",this.actions.cut),t.bind("focus",this.actions.focus),t.bind("blur",this.actions.blur)},isLoad:function(){return!!this.dom},buzy:function(){return this.isLoad()},load:function(t){if(this.dom){if(this.dom[0]==$(t)[0])return;return this.unload(),void setTimeout($.proxy(function(){this.load(t)},this),15)}return $(t).length?(this.key=$(t),this.build(),void setTimeout($.proxy(function(){this.trigger("editor-load")},this),15)):!1},unload:function(t){if(this.dom){setTimeout($.proxy(function(){this.trigger("editor-unload")},this),15);var e=this.dom;e.attr("contenteditable","false"),e.blur(),e.unbind("keyup",this.actions.keyup),e.unbind("keydown",this.actions.keydown),e.unbind("mousedown",this.actions.mousedown),e.unbind("mouseup",this.actions.mouseup),e.unbind("paste",this.actions.paste),e.unbind("cut",this.actions.cut),e.unbind("focus",this.actions.focus),e.unbind("blur",this.actions.blur),this.dom=!1,this.steps.clean()}},save:function(){},focus:function(){this.frame.focus(),this.actions.focus()},insertHTML:function(t){if(this.focus(),$.browser.msie){var e=this.getSelection(),n=!1;if(n="Control"==e.type?e.createRange().item(0).ownerDocument:e.createRange().parentElement().ownerDocument,n!=this.doc){var i=this.doc.body.createTextRange();i.moveToElementText(this.doc.body),i.moveStart("character",$(this.doc.body).html().length+1),i.moveEnd("character",0),i.select()}this.getSelection().createRange().pasteHTML(t)}else this.doc.execCommand("InsertHTML",!1,t);this.steps.autosave()},getCurrentNode:function(){var t=!1;try{this.doc.createRange?(t=this.win.getSelection().focusNode,t&&3==t.nodeType&&(t=t.parentNode)):this.doc.body.createTextRange&&(t="Control"==this.doc.selection.type?this.doc.selection.createRange().item(0):this.doc.selection.createRange().parentElement())}catch(e){t=this.body}return t},getSelection:function(){return this.doc.selection?this.doc.selection:this.win.getSelection()},getSelectionText:function(){return this.doc.createRange?this.win.getSelection().toString():this.doc.body.createTextRange?this.doc.selection.createRange().text:void 0},getSelectionImagesLength:function(){if(this._div.html(""),$.browser.msie){if("Control"==this.doc.selection.type){for(var t=this.doc.selection.createRange(),e=0,n=0;n<t.length;n++)"IMG"==t.item(n).tagName&&e++;return e}this._div.html(this.doc.selection.createRange().htmlText)}else this._div.append(this.win.getSelection().rangeCount?this.win.getSelection().getRangeAt(0).cloneContents():"");return this._div.find("img").length},selectNodes:function(t){if($.browser.msie){var e=this.doc.body.createTextRange();if(e.moveToElementText($(t[0])[0]),t.length>1){var n=this.doc.body.createTextRange();n.moveToElementText($(t[t.length-1])[0]),e.setEndPoint("EndToEnd",n)}e.select()}else if(this.win.getSelection().removeAllRanges(),t.length>1){var i=this.doc.createRange();i.setStartBefore($(t[0])[0]),i.setEndAfter($(t[t.length-1])[0]),this.win.getSelection().addRange(i)}else{var i=this.doc.createRange();i.selectNode($(t[0])[0]),this.win.getSelection().addRange(i)}},range:function(){var t=!1,e=function(){return $.browser.msie?this.doc.selection:this.win.getSelection()};return{cache:function(){var n=e.call(this);$.browser.msie?t=n.createRange():n&&n.rangeCount?t=n.getRangeAt(0):(t=this.doc.createRange(),t.setStart(this.dom[0],0),t.setEnd(this.dom[0],0))},use:function(){if(t)if($.browser.msie)t.select();else{var n=e.call(this);n.removeAllRanges(),n.addRange(t)}}}}(),range2dom:function(){if($.browser.msie){if(!this.doc.selection.createRange().htmlText)return[]}else if(!this.win.getSelection().toString())return[];this.exec("FontName","purple");var t=!1,e=[],n=this.doc;return(t=this.dom.find('font[face="purple"]')).length?(t.each(function(){var t=$(this);if(1==this.parentNode.childNodes.length)if("BODY"==this.parentNode.tagName&&(this.childNodes.length>1||3==this.firstChild.nodeType)){for(var i=$(n.createElement("span"));this.firstChild;)i.append(this.firstChild);t.replaceWith(i),t.remove(),t=i}else{for(var i=t.parent(),r=t.children();this.firstChild;)i.append(this.firstChild);t.remove(),t=i,"BODY"==i[0].tagName&&(t=r)}else if(1==this.childNodes.length&&1==this.firstChild.nodeType){var i=$(this.firstChild);i.insertBefore(t),t.remove(),t=i}else{var i=$(n.createElement("span"));for(i.insertBefore(t);this.firstChild;)i.append(this.firstChild);t.remove(),t=i}e.push(t[0])}),e):(t=this.dom.find("[style]"),t.push(this.dom[0]),t.each(function(){var t=$(this),n=t.attr("style");/font-family:[\s]*purple/i.test(n)&&(/^font-family:[\s]*purple[;]{0,1}$/i.test(n)?t.removeAttr("style"):(n=n.split(/font-family:[\s]*purple[;]{0,1}/i).join(""),t.attr("style",n)),e.push(t))}),e)},setStyle:function(t,e){this.dom&&(e||(e=this.range2dom()),e.length&&setTimeout($.proxy(function(){for(var n=0;n<e.length;n++){var i=$(e[n]);i.css(t),i.find("[style]").each(function(){var e=$(this),n=e.attr("style");for(var i in t)n=n.split(new RegExp(i+":[ ]*[#0-9a-zA-Z-]*[;]{0,1}","i")).join("");e.attr("style",n)}),i.find("span").each(function(){if(this.childNodes.length||$(this).remove(),!$(this).attr("style")){for(;this.firstChild;)this.parentNode.insertBefore(this.firstChild,this);$(this).remove()}})}1==e.length&&"BODY"==e[0].tagName?this.exec("selectAll"):this.selectNodes(e);
},this),15))},exec:function(t,e){try{this.focus(),e?this.doc.execCommand(t,!1,e):$.browser.msie?this.doc.execCommand(t):this.doc.execCommand(t,!1,!1),this.focus()}catch(n){alert(n.message)}}});var r=function(t){this.config=$.extend({items:"undo,redo,|,font-size,color,bold,orderlist,unorderlist,|,table,|,pieces",callback:function(t){console.log(t)}},t),this.init()};$.extend(r.prototype,{actions:{undo:{render:function(){},init:function(){},update:function(t){}},redo:{render:function(){},init:function(t){},update:function(t){}},"font-size":{render:function(){var t=['<div -qeditor-toolbar-item-="font-size">'];t.push("<span>Size</span>"),t.push('<ul -qeditor-toolbar-menu-="font-size">');for(var e=[12,14,16,18,20],n=0;n<e.length;n++)t.push('<li -qeditor-menu-item-="'+e[n]+'px">'+e[n]+"px</li>");return t.push("</ul></div>"),$(t.join(""))},init:function(t,e){var n=e.find("[-qeditor-toolbar-menu-]");n.children();this.regMenu(n,t);var i=function(e){n.hide(),t.setStyle({"font-size":e})};e.bind("mousedown",function(t){if(1==t.which){(t.target==e[0]||"IMG"==t.target.tagName&&t.target.parentNode==e[0]||t.target==e.children("span")[0])&&n.show();var r=$(t.target).attr("-qeditor-menu-item-")||$(t.target).parent().attr("-qeditor-menu-item-");if(r)return i(r),!1}})},update:function(t){var e=this.dom.find('[-qeditor-toolbar-item-="font-size"] span');t?e.html(t.css("font-size")):e.html("Size")}},color:{render:function(){var t=[["000000","444444","666666","999999","CCCCCC","EEEEEE","F3F3F3","FFFFFF"],["FF0000","FF9900","FFFF00","00FF00","00FFFF","0000FF","9900FF","FF00FF"],[["F4CCCC","FCE5CD","FFF2CC","D9EAD3","D0E0E3","CFE2F3","D9D2E9","EAD1DC"],["EA9999","F9CB9C","FFE599","B6D7A8","A2C4C9","9FC5E8","B4A7D6","D5A6BD"],["E06666","F6B26B","FFD966","93C47D","76A5AF","6FA8DC","8E7CC3","C27BA0"],["CC0000","E69138","F1C232","6AA84F","45818E","3D85C6","674EA7","A64D79"],["990000","B45F06","BF9000","38761D","134F5C","0B5394","351C75","741B47"],["660000","783F04","7F6000","274E13","0C343D","073763","20124D","4C1130"]]],e=['<div -qeditor-toolbar-item-="color">'];e.push('<div -qeditor-toolbar-menu-="color" style="display: none">');for(var n=0;n<t.length;n++){e.push("<ul>");for(var i=t[n],r=0;r<i.length;r++)if("string"==typeof i[r])e.push('<li -qeditor-menu-item-="'+i[r]+'" style="background-color: #'+i[r]+'"></li>');else for(var o=i[r],s=0;s<o.length;s++)e.push('<li -qeditor-menu-item-="'+o[s]+'" style="background-color: #'+o[s]+'"></li>');e.push("</ul>")}return e.push("</div>"),e.push("</div>"),e.join("")},init:function(t,e){var n=e.find("[-qeditor-toolbar-menu-]");n.find("[-qeditor-menu-item-]");this.regMenu(n,t),e.bind("mousedown",function(i){if((i.target==e[0]||"IMG"==i.target.tagName&&i.target.parentNode==e[0])&&n.show(),$(i.target).attr("-qeditor-menu-item-")||"IMG"==i.target.tagName&&$(i.target.parentNode).attr("-qeditor-menu-item-")){i.preventDefault();var r="#"+($(i.target).attr("-qeditor-menu-item-")||$(i.target.parentNode).attr("-qeditor-menu-item-"));t.setStyle({color:r}),n.hide()}})}},bold:{render:function(){return $('<div -qeditor-toolbar-item-="bold"></div>')},init:function(t,e){e.bind("click",t.actions.bold)},update:function(t){t&&/^(700|800|900|bold|bolder)$/i.test(t.css("font-weight"))?this.dom.find('[-qeditor-toolbar-item-="bold"]').addClass("toolbar-item-active"):this.dom.find('[-qeditor-toolbar-item-="bold"]').removeClass("toolbar-item-active")}},underline:{render:function(){return $('<div -qeditor-toolbar-item-="underline"></div>')},init:function(t,e){e.bind("click",t.actions.underline)}},italic:{render:function(){return $('<div -qeditor-toolbar-item-="italic"></div>')},init:function(t,e){e.bind("click",t.actions.italic)}},orderlist:{render:function(){return $('<div -qeditor-toolbar-item-="orderlist"></div>')},init:function(t,e){e.bind("click",t.actions.orderlist)}},unorderlist:{render:function(){return $('<div -qeditor-toolbar-item-="unorderlist"></div>')},init:function(t,e){e.bind("click",t.actions.unorderlist)}},"justify-left":{render:function(){return $('<div -qeditor-toolbar-item-="justify-left"></div>')},init:function(t,e){e.bind("click",t.actions.left)}},"justify-center":{render:function(){return $('<div -qeditor-toolbar-item-="justify-center"></div>')},init:function(t,e){e.bind("click",t.actions.center)}},"justify-right":{render:function(){return $('<div -qeditor-toolbar-item-="justify-right"></div>')},init:function(t,e){e.bind("click",t.actions.right)}},link:{render:function(){var t=['<div -qeditor-toolbar-item-="link">'];return t.push('<div -qeditor-toolbar-menu-="link" style="display: none">'),t.push('<input type="text" class="link-text" -qeditor-toolbar-input-="link" -usedefault-="1" />'),t.push('<label><input type="checkbox" -usedefault-="1"  -qeditor-toolbar-checkbox-="link" />新窗口打开</label>'),t.push('<button -qeditor-toolbar-button-="link" -usedefault-="1" type="button">Ok</button>'),t.push("</div>"),t.push("</div>"),$(t.join(""))},init:function(t,e){var n=e.find("[-qeditor-toolbar-menu-]"),i=n.find("[-qeditor-toolbar-input-]"),r=n.find("[-qeditor-toolbar-checkbox-]"),o=n.find("button");this.regMenu(n,t,{show:function(){t.focus(),t.range.cache()},hide:function(){t.range.use(),t.focus()}});var s=function(){var e,n,i=t.getSelection();if(document.selection)if("Control"==i.type){i=i.createRange(),e=[],n=i.item(0);for(var r=0;r<i.length;r++)e.push(i.item(r))}else i=i.createRange(),e=$("<div>"+i.htmlText+"</div>").contents(),n=i.parentElement();else try{i=i.getRangeAt(0),e=$(i.cloneContents()).contents(),n=i.commonAncestorContainer}catch(o){return!1}for(var s=e.length,r=0;r<e.length;r++)if(1!=e[r].nodeType||"A"!=e[r].tagName){s=!1;break}return s?!0:"A"==n.tagName||$(n).parents("a").length?!0:!1};e.bind("mousedown",function(i){return s()?void t.actions.unlink():void((i.target==e[0]||"IMG"==i.target.tagName&&i.target.parentNode==e[0])&&n.show())});var a=function(){var e=i.val(),o=r[0].checked;""!=$.trim(e)&&(n.hide(),i.val(""),r.attr("checked",!1),setTimeout(function(){t.focus(),t.actions.link(e,o?"_blank":!1)},30))};o.bind("click",a),i.bind("keydown",function(t){13==t.keyCode&&setTimeout(a,30)})}},"|":{render:function(){return $('<div -qeditor-toolbar-item-="split" class="toolbar-split"></div>')},init:function(){}}},regMenu:function(t,e,n){var i=this;n=n||{},t.shown=!1,t._show=t.show,t.show=function(){t.shown&&e.editing||(t._show(),t.shown=!0,i._menushown=t,setTimeout(function(){$(document).bind("mousedown",t.hide)},15),n.show&&n.show())},t._hide=t.hide,t.hide=function(r){t.shown&&(t._hide(),t.shown=!1,setTimeout(function(){t==i._menushown&&(i._menushown=!1),$.browser.mozilla&&e.focus(),$(document).unbind("mousedown",t.hide)},15),n.hide&&n.hide())},t.bind("mouseenter",function(){$(document).unbind("mousedown",t.hide)}),t.bind("mouseleave",function(){t.shown&&$(document).bind("mousedown",t.hide)}),e.bind("editor-mousedown",t.hide)},render:function(){this.dom=$('<div class="qeditor-toolbar" -qeditor-toolbar-="default"></div>')},insertBefore:function(t){return this.dom.insertBefore(t),this},add:function(t,e){this.items.push(t);var n=$(t.render()).addClass(e?"toolbar-item-"+e:"").addClass("toolbar-item");this.dom.append(n),n.find("[-qeditor-toolbar-menu-]").each(function(){$(this).addClass("toolbar-menu-"+$(this).attr("-qeditor-toolbar-menu-")).addClass("toolbar-menu")}),n.find("[-qeditor-menu-item-]").addClass("toolbar-menu-item"),$(t).data("dom",n),$.browser.msie&&(n.append($('<img src="http://source.qunar.com/package/icon/iefix.gif" class="iefix" />')),n.find("[-qeditor-menu-item-]").append($('<img src="http://source.qunar.com/package/icon/iefix.gif" class="iefix" />'))),this.loaded&&this.config.callback($.proxy(function(e){t.init.call(this,e,n)},this))},init:function(){this.render(),this.items=[];for(var t=this.config.items.split(","),e=0;e<t.length;e++)this.actions[t[e]]&&this.add(this.actions[t[e]],t[e]);var n=$.proxy(this.update,this);this.update=function(){setTimeout(n,50)}},update:function(){if(this.focused){var t;if(this.config.callback(function(e){t=e.getCurrentNode()}),t)for(var e=0;e<this.items.length;e++)this.items[e].update&&this.items[e].update.call(this,$(t))}},xy:function(t){this.dom.css({left:parseInt(t.left,10)+"px",top:parseInt(t.top-50)+"px"})},load:function(){var t;this.config.callback(function(e){t=e});for(var e=0;e<this.items.length;e++)try{this.items[e].init.call(this,t,$(this.items[e]).data("dom"))}catch(n){}this.dom.bind("mousedown",$.proxy(function(t){$(t.target).attr("-usedefault-")||t.preventDefault(),this.update()},this)),this.focused=!0,t.bind("editor-mouseup",this.update),t.bind("editor-keyup",this.update),t.bind("editor-paste",this.update),t.bind("editor-cut",this.update),t.bind("editor-blur",$.proxy(function(){this.focused=!1},this)),t.bind("editor-focus",$.proxy(function(){this.focused=!0},this)),this.loaded=!0},unload:function(){this.dom.remove();var t;this.config.callback(function(e){t=e}),t.unbind("editor-mouseup",this.update),t.unbind("editor-keyup",this.update),t.unbind("editor-paste",this.update),t.unbind("editor-cut",this.update),this.loaded=!1}}),r.add=function(e,n){if("|"==e)return void(t.toolbar+=",|");if("string"!=typeof e)throw new Error("The tool's name must be string");if(e.indexOf(",")>-1)throw new Error("The tool's name can't has charactor ','");if("object"==typeof r.prototype.actions[e]&&"undefined"==typeof n&&(n=r.prototype.actions[e]),"object"!=typeof n||"function"!=typeof n.render||"function"!=typeof n.init)throw new Error("The tool's config must be an object, and has 'render' & 'init' method");r.prototype.actions[e]=n;var i=t.toolbar.split(",");i.push(e);for(var o=0;o<i.length-1;o++)if(i[o]==e){i.pop();break}t.toolbar=i.join(",")},i.toolbar=r;var o={fixContent:function(t,e,n){t.find(n).remove();var i;i="undefined"==typeof e||""===e||e===!0||"*"==e?/.*/:new RegExp("(^"+e.split(",").join("$|^")+"$)","i"),t.find("*").each(function(){if(i.test(this.tagName)){for(var t=[],e=0;e<this.attributes.length;e++)t.push(this.attributes[e].name||this.attributes[e].nodeName);for(var e=0;e<t.length;e++){var n=t[e];/(^on+$)|(^clas+$)|(^lang$)|(^id$)/gi.test(n)&&$(this).removeAttr(n)}$(this).contents(":not(*)").filter(function(){return 8==this.nodeType}).remove()}else $(this).text()?$(this).replaceWith(document.createTextNode($(this).text())):$(this).remove()}),t.contents(":not(*)").filter(function(){return 8==this.nodeType}).remove()}};$.fn.edit=function(t){try{var e=new i(this,t)}catch(n){console.log(n)}return e},$.Editor=i})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([13]))};e.amd=!0,e([10,11,12],function(t){$.Editor.toolbar.add("|"),$.Editor.toolbar.add("image",{render:function(){var t=['<div class="qeditor-image" -qeditor-toolbar-item-="image">'];return t.push('<div -qeditor-toolbar-menu-="image" style="display: none">'),t.push('<ul class="qeditor-toolbar-tab">','<li class="current" item="tab">本地上传</li>','<li item="tab">远程文件</li>',"</ul>"),t.push('<div class="qeditor-tab-panel" item="panel">'),t.push('<div class="qeditor-uploader">点击这里上传图片</div>'),t.push("</div>"),t.push('<div class="qeditor-tab-panel" item="panel" style="display: none">'),t.push('<input type="text" -qeditor-toolbar-input-="image-url" -usedefault-="1" />'),t.push('<button -qeditor-toolbar-button-="use-url" -usedefault-="1" type="button">确定</button>'),t.push("</div>"),t.push("</div>"),t.push("</div>"),t.join("")},init:function(e,n){var i=n.find('[-qeditor-toolbar-menu-="image"]'),r=n.find(".qeditor-uploader"),o=n.find('[-qeditor-toolbar-input-="image-file"]');this.regMenu(i,e,{show:function(){e.focus(),e.range.cache(),$.browser.msie&&o.focus()},hide:function(){e.range.use(),e.focus()}}),n.bind("mousedown",function(t){(t.target==n[0]||"IMG"==t.target.tagName&&t.target.parentNode==n[0])&&i.show()});var s=n.find('[item="tab"]'),a=n.find('[item="panel"]');s.each(function(t){var e=$(this);e.bind("click",function(){s.removeClass("current"),s.eq(t).addClass("current"),a.hide(),a.eq(t).show()})}),o.bind("change",function(t){/\.(jpg|jpeg|png)$/.test(o.val())||o.val("")}),r.bind("click",function(){t.load({selector:r,callback:function(t){i.hide(),setTimeout(function(){e.insertHTML('<img src="'+t.url+'" />')},30)}})})}}),$.Editor.toolbar.add("flash",{render:function(){var t=['<div class="qeditor-image" -qeditor-toolbar-item-="flash">'];return t.push('<div -qeditor-toolbar-menu-="flash" style="display: none">'),t.push('<div class="qeditor-flash-panel">'),t.push('<input type="text" -qeditor-toolbar-input-="flash-code" -usedefault-="1" />'),t.push('<button -qeditor-toolbar-button-="use" -usedefault-="1" type="button">确定</button>'),t.push("</div>"),t.push("</div>"),t.push("</div>"),t.join("")},init:function(t,e){var n=e.find('[-qeditor-toolbar-menu-="flash"]'),i=e.find("input"),r=e.find("button");this.regMenu(n,t,{show:function(){t.focus(),t.range.cache(),$.browser.msie&&fileinput.focus()},hide:function(){t.range.use(),t.focus()}}),e.bind("mousedown",function(t){(t.target==e[0]||"IMG"==t.target.tagName&&t.target.parentNode==e[0])&&n.show()}),r.bind("click",function(){var e=$.trim(i.val());e&&(n.hide(),setTimeout(function(){i.val(""),t.insertHTML(e)},30))})}})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([14]))};e.amd=!0,e([8,9,10,13],function(t,e,n){var i=function(n){this.config=$.extend({data:!1,category:!1,trigger:!1},n),this.dom=$(e.render()).appendTo(document.body),this.getData($.proxy(function(e){this.dom.remove(),this.config.data=e,this.dom=$(t.render(this.config.data)),this.dom.appendTo(document.body),this.init(),this.initEvents()},this))};return $.extend(i.prototype,{init:function(){this.editor=this.dom.find("textarea").height(this.dom.height()-300).edit({aclist:"ul,ol,li,dl,dd,dt,a,span,font,p,div,br,img,embed"}),this.loading=!1},getData:function(t){var e=!0,n=!1;$.ajax({url:"/api/article",data:{id:this.config.data.id},success:function(t){t.status&&(n=t.data,e=!1)},complete:$.proxy(function(){e&&(n=this.config.data),t(n)},this)})},save:function(){if(!this.loading){this.blur();var t=this.dom.find(".title input"),e=this.dom.find(".thumb-panel input"),n=this.dom.find(".body textarea");if(!$.trim(t.val()))return alert("请填写文章标题");if(!$.trim(n.val()))return alert("请填写文章内容");this.saveDom.addClass("loading"),this.loading=!0,this.cancelDom.hide();var i={title:$.trim(t.val()),content:$.trim(n.val()),summary:$.trim(this.editor.text()),category:this.config.category,image:e.val()},r="/api/article/new";this.config.data&&(i.id=this.config.data.id,r="/api/article/update");var o=!0;$.ajax({url:r,data:i,type:"post",success:$.proxy(function(t){t.status&&t.data&&(o=!1,this.dom.remove(),this.config.onsave&&this.config.onsave(t.data))},this),complete:$.proxy(function(){o&&(this.loading=!1,this.cancelDom.show(),this.saveDom.removeClass("loading"),alert("保存失败"))},this)})}},remove:function(){if(!this.loading&&this.config.data&&(this.blur(),window.confirm("点击确认将会删除这篇文章"))){this.loading=!0;var t=!0;this.cancelDom.hide(),$.ajax({url:"/api/article/remove",data:{id:this.config.data.id},success:$.proxy(function(e){e.status&&(t=!1,this.dom.remove(),this.config.onremove&&this.config.onremove())},this),complete:$.proxy(function(){t&&(this.loading=!1,this.cancelDom.show(),alert("删除失败"))},this)})}},blur:function(){this.dom.find("input,textarea").blur(),this.editor.actions.blur()},cancel:function(){this.blur(),this.dom.remove()},initEvents:function(){var t=this.dom.find(".stage");this.saveDom=this.dom.find(".save").bind("click",$.proxy(this.save,this)),this.cancelDom=this.dom.find(".cancel,.close").bind("click",$.proxy(this.cancel,this)),this.removeDom=this.dom.find(".remove").bind("click",$.proxy(this.remove,this));var e=this.dom.find(".thumb-panel input");this.updateDom=this.dom.find(".trigger").bind("click",$.proxy(function(){n.load({trigger:this.updateDom,callback:function(n){e.val(n.url),t.find("img").attr("src",n.url),t.show()}})},this)),t.find("span").bind("click",function(){e.val(""),t.hide()})}}),i})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([15]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="m-pic'),i.s(i.f("multi",t,e,1),t,e,0,27,39,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(" m-pic-multi")}),t.pop()),i.b('">\r'),i.b("\n"+n),i.b('	<div class="title">'),i.b(i.v(i.f("title",t,e,0))),i.b("</div>\r"),i.b("\n"+n),i.b("	\r"),i.b("\n"+n),i.b('	<div class="panel">\r'),i.b("\n"+n),i.s(i.f("multi",t,e,1),t,e,0,127,540,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('		<div class="choosen">\r'),i.b("\n"+n),i.b('			<div class="item current" style="width:'),i.b(i.v(i.f("width",t,e,0))),i.b("; height:"),i.b(i.v(i.f("height",t,e,0))),i.b('">\r'),i.b("\n"+n),i.b('				<div class="img"></div>\r'),i.b("\n"+n),i.b('				<div class="url"><input type="text" value="" placeholder="设置链接" /></div>\r'),i.b("\n"+n),i.b("			</div>\r"),i.b("\n"+n),i.b("		</div>\r"),i.b("\n"+n),i.b('		<div class="before">	\r'),i.b("\n"+n),i.b('			<div class="item new" style="width:'),i.b(i.v(i.f("width",t,e,0))),i.b("; height:"),i.b(i.v(i.f("height",t,e,0))),i.b('">\r'),i.b("\n"+n),i.b('				<div class="img">\r'),i.b("\n"+n),i.b('					<div class="tip">+</div>\r'),i.b("\n"+n),i.b("				</div>\r"),i.b("\n"+n),i.b("			</div>\r"),i.b("\n"+n),i.b("		</div>\r"),i.b("\n")}),t.pop()),i.s(i.f("multi",t,e,1),t,e,1,0,0,"")||(i.b('			<div class="item current" style="width:'),i.b(i.v(i.f("width",t,e,0))),i.b("; height:"),i.b(i.v(i.f("height",t,e,0))),i.b('">\r'),i.b("\n"+n),i.b('				<div class="img"></div>\r'),i.b("\n"+n),i.b('				<div class="status">\r'),i.b("\n"+n),i.b('					<div class="checked">已选择</div>\r'),i.b("\n"+n),i.b("					<button>选择</button>\r"),i.b("\n"+n),i.b("				</div>\r"),i.b("\n"+n),i.b("			</div>\r"),i.b("\n"+n),i.b('			<div class="item new" style="width:'),i.b(i.v(i.f("width",t,e,0))),i.b("; height:"),i.b(i.v(i.f("height",t,e,0))),i.b('">\r'),i.b("\n"+n),i.b('				<div class="img">\r'),i.b("\n"+n),i.b('					<div class="tip">+</div>\r'),i.b("\n"+n),i.b("				</div>\r"),i.b("\n"+n),i.b("			</div>\r"),i.b("\n")),i.b("	</div>\r"),i.b("\n"+n),i.b("	\r"),i.b("\n"+n),i.b("	"),i.s(i.f("multi",t,e,1),t,e,0,965,991,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<div class="save">保存</div>')}),t.pop()),i.b("\r"),i.b("\n"+n),i.b("	\r"),i.b("\n"+n),i.b('	<div class="cancel">返回</div>\r'),i.b("\n"+n),i.b('	<div class="close">&times;</div>\r'),i.b("\n"+n),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([16]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="item" style="width:'),i.b(i.v(i.f("width",t,e,0))),i.b("; height:"),i.b(i.v(i.f("height",t,e,0))),i.b('">\r'),i.b("\n"+n),i.b('	<div class="img">'),i.s(i.f("image",t,e,1),t,e,0,91,112,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<img src="'),n.b(n.v(n.f("url",t,e,0))),n.b('" />')}),t.pop()),i.b("</div>\r"),i.b("\n"+n),i.b("	"),i.s(i.f("multi",t,e,1),t,e,1,0,0,"")||(i.b('<div class="status">\r'),i.b("\n"+n),i.b('		<div class="checked">已选择</div>\r'),i.b("\n"+n),i.b("		<button>选择</button>\r"),i.b("\n"+n),i.b("	</div>")),i.b("\r"),i.b("\n"+n),i.s(i.f("multi",t,e,1),t,e,0,250,328,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('	<div class="url"><input type="text" value="" placeholder="设置链接" /></div>\r'),n.b("\n")}),t.pop()),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([17]))};e.amd=!0,e([15,16,10],function(t,e,n){var i=function(t){this.config=$.extend({width:"auto",height:"auto",title:"Pic",getter:!1,setter:!1,multi:!1},t),this.init()};return $.extend(i.prototype,{init:function(){var e=this;this.dom=$(t.render(this.config)).appendTo(document.body);var i=this.dom.find(".new"),r=i.find(".tip");i.bind("click",function(t){t.target&&"INPUT"==t.target.tagName||n.load({selector:r,callback:function(t){e.newImage(t)}})});var o=this.dom.find(".current");if(this.config.getter?this.config.getter(function(t){return t?void(e.config.multi?($.each(t,function(){var t=o.clone();t.find(".img").append('<img src="'+this.img+'" />'),t.find("input").val(this.url||""),t.insertBefore(o)}),o.remove()):(o.find(".img").append('<img src="'+t+'" />'),o.show())):o.remove()}):o.remove(),this.config.multi){var s=this.dom.find(".before"),a=this.dom.find(".choosen");a.delegate(".img","click",function(){$(this).parent().insertBefore(i)}),s.delegate(".img","click",function(){$(this).parent().hasClass("new")||$(this).parent().appendTo(a)});var c=this.dom.find(".save");c.bind("click",$.proxy(function(){c.hasClass("loading")||this.setMulti(function(){c.removeClass("loading")})},this))}else this.dom.delegate(".item button","click",function(){var t=$(this);if(!e.loading){var n=t.parents(".item:eq(0)"),i=n.find("img").attr("src");e.loading=!0,t.attr("disabled",!0),e.set(i,n,function(){e.loading=!1,t.attr("disabled",!1)})}});this.dom.find(".cancel,.close").bind("click",function(){e.dom.remove()})},setMulti:function(t){if(this.config.setter){var e=[];$.each(this.dom.find(".choosen .item"),function(){var t=$(this);e.push({img:t.find("img").attr("src"),url:t.find("input").val()||""})}),this.config.setter(e,$.proxy(function(){this.dom.remove()},this),$.proxy(function(){alert("设置失败"),t&&t()},this))}else t&&t()},set:function(t,e,n){this.config.multi||(this.config.setter?this.config.setter(t,$.proxy(function(){this.dom.find(".item").removeClass("current"),e.addClass("current"),n&&n()},this),$.proxy(function(){n&&n()},this)):n&&n())},newImage:function(t){$(e.render($.extend({image:t},this.config))).insertBefore(this.dom.find(".new"))}}),i})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([18]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([19]))};e.amd=!0,e([18],function(){var t=function(t){this.config=$.extend({width:0,parent:!1},t),this.init()};$.extend(t.prototype,{init:function(){this.dom=$('<div class="col index'+this.config.index+'" data-id="'+this.config.id+'" data-key="'+this.config.key+'"><div class="col-name">'+this.config.key+"</div></div>").appendTo(this.config.parent),this.width(this.config.width)},width:function(){return arguments.length&&"number"==typeof arguments[0]&&(this.dom.width(100*arguments[0]/20+"%"),this.config.width=arguments[0]),this.config.width},remove:function(){this.dom.remove()}});var e=function(t){this.config=$.extend({parent:!1},t),this.init()};return $.extend(e.prototype,{init:function(){this.dom=$('<div class="m-preview"></div>').appendTo(this.config.parent),this.dom.height(parseInt(.8*$(window).width()/3.2)),this.counter=0},addColumn:function(e){return new t($.extend({parent:this.dom,index:this.counter++},e))}}),e})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([20]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="m-module">\r'),i.b("\n"+n),i.b('	<div class="title">模块设置</div>\r'),i.b("\n"+n),i.b('	<div class="set-item"><label>模块名称</label><input class="name" type="text" placeholder="请填写标题"'),i.s(i.f("module",t,e,1),t,e,0,160,178,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(' value="'),n.b(n.v(n.f("title",t,e,0))),n.b('"')}),t.pop()),i.b(" /></div>\r"),i.b("\n"+n),i.b('	<div class="set-item"><label>副标题</label><input class="sub-name" type="text" placeholder="副标题(可为空)"'),i.s(i.f("module",t,e,1),t,e,0,310,331,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(' value="'),n.b(n.v(n.f("subTitle",t,e,0))),n.b('"')}),t.pop()),i.b(" /></div>\r"),i.b("\n"+n),i.b('	<div class="set-item"><label>隐藏标题</label><input class="hide-name" type="checkbox"'),i.s(i.d("module.hideTitle",t,e,1),t,e,0,456,474,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b(' checked="checked"')}),t.pop()),i.b(" /></div>\r"),i.b("\n"+n),i.b('	<div class="set-item"><label>模块类型</label><select class="type"><option value="">选择类型</option>'),i.s(i.f("modules",t,e,1),t,e,0,611,652,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<option value="'),n.b(n.v(n.f("key",t,e,0))),n.b('">'),n.b(n.v(n.f("name",t,e,0))),n.b("</option>")}),t.pop()),i.b("</select></div>\r"),i.b("\n"+n),i.b('	<div class="set-item"><label>位置</label><select class="layouts"><option value="">选择模块位置</option>'),i.s(i.f("layouts",t,e,1),t,e,0,789,829,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('<option value="'),n.b(n.v(n.f("id",t,e,0))),n.b('">列'),n.b(n.v(n.f("key",t,e,0))),n.b("</option>")}),t.pop()),i.b("</select></div>\r"),i.b("\n"+n),i.b('	<div class="panel">\r'),i.b("\n"+n),i.b("	</div>\r"),i.b("\n"+n),i.b("	\r"),i.b("\n"+n),i.b('	<div class="save">保存</div>\r'),i.b("\n"+n),i.b('	<div class="cancel">取消</div>\r'),i.b("\n"+n),i.b('	<div class="close">&times;</div>\r'),i.b("\n"+n),i.b('	<div class="remove">删除模块</div>\r'),i.b("\n"+n),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([21]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="module">\r'),i.b("\n"+n),i.b('	<div class="set-item">\r'),i.b("\n"+n),i.b("		<label>设置公告</label><textarea></textarea>\r"),i.b("\n"+n),i.b("	</div>\r"),i.b("\n"+n),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([22]))};e.amd=!0,e([21,12],function(t){var e=function(t){this.config=$.extend({parent:!1},t),this.init()};return $.extend(e.prototype,{init:function(){this.dom=$(t.render()).appendTo(this.config.parent),this.text=this.dom.find("textarea"),setTimeout($.proxy(function(){this.editor=this.text.edit()},this),10)},remove:function(){this.dom.remove()},val:function(t){return arguments.length&&arguments[0]&&(this.text.val(t),this.editor&&this.editor.dom&&this.editor.val(t)),this.editor&&this.editor.dom&&this.editor.sync(),$.trim(this.text.val())}}),{name:"公告",key:"notice",module:e}})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([23]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="m-module-list">\r'),i.b("\n"+n),i.s(i.f("list",t,e,1),t,e,0,39,237,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('		<div class="list-item">\r'),i.b("\n"+n),i.b('			<div class="item-title" data-id="'),i.b(i.v(i.f("id",t,e,0))),i.b('">'),i.b(i.v(i.f("name",t,e,0))),i.b("</div>\r"),i.b("\n"+n),i.b("			<ul>\r"),i.b("\n"+n),i.s(i.f("children",t,e,1),t,e,0,154,201,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('				<li data-sub="'),n.b(n.v(n.f("id",t,e,0))),n.b('">'),n.b(n.v(n.f("name",t,e,0))),n.b("</li>\r"),n.b("\n")}),t.pop()),i.b("			</ul>\r"),i.b("\n"+n),i.b("		</div>\r"),i.b("\n")}),t.pop()),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([24]))};e.amd=!0,e([23],function(t){var e=function(t){this.config=$.extend({parent:!1},t),this.init()},n=function(t){for(var e=[],n=[],i={},r=0;r<t.length;r++)t[r].disabled||(1===t[r].level&&(e.push(t[r]),i[t[r].id]=t[r]),2===t[r].level&&t[r].parent&&n.push(t[r]));for(r=0;r<n.length;r++)i[n[r].parent]&&(i[n[r].parent].children=i[n[r].parent].children||[],i[n[r].parent].children.push(n[r]));return e};return $.extend(e.prototype,{init:function(){this.dom=$('<div class="set-item"><label>选择一级导航</label></div><div class="set-item"><label>显示行数</label><input type="text" value="10" /><p>*如果会两列显示会自动把条数X2保证行数</p></div>').appendTo(this.config.parent),this.numberInput=this.dom.find("input"),this.current=!1,$.ajax({url:"/api/category/tree",success:$.proxy(function(t){if(t.status&&t.data){var e=n(t.data);this.render(e)}},this)})},render:function(e){this.dom.eq(0).append(t.render({list:e})),this.initEvents()},remove:function(){this.dom.remove()},val:function(t){return arguments.length&&arguments[0]&&(this.current=t.id||!1,this.numberInput.val(t.rows||10),this.subs=t.subs||[]),{rows:parseInt(this.numberInput.val(),10)||10,id:this.current,subs:this.subs}},checkSub:function(){var t=[];this.dom.find("[data-sub].checked").each(function(){t.push($(this).data("sub"))}),this.subs=t},initEvents:function(){var t=this.dom.find("[data-id]"),e=this.dom.find("[data-sub]"),n=this.dom.find("ul"),i=this;t.bind("click",function(){$(this).hasClass("checked")||(t.removeClass("checked"),n.hide().find(".checked").removeClass("checked"),$(this).addClass("checked").next("ul").show().find("[data-sub]").addClass("checked"),i.current=$(this).data("id"),i.checkSub())}),e.bind("click",function(){$(this).hasClass("checked")?$(this).removeClass("checked"):$(this).addClass("checked"),i.checkSub()}),this.current&&t.filter('[data-id="'+this.current+'"]').addClass("checked").next("ul").show(),this.subs&&$.each(this.subs,function(t,n){e.filter('[data-sub="'+n+'"]').addClass("checked")})}}),{name:"一级列表",key:"list",module:e}})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([25]))};e.amd=!0,e([1],function(t){return new t.Template(function(t,e,n){var i=this;return i.b(n=n||""),i.b('<div class="m-module-sublist">\r'),i.b("\n"+n),i.s(i.f("list",t,e,1),t,e,0,42,222,"{{ }}")&&(i.rs(t,e,function(t,e,i){i.b('		<div class="list-item">\r'),i.b("\n"+n),i.b('			<div class="item-title">'),i.b(i.v(i.f("name",t,e,0))),i.b("</div>\r"),i.b("\n"+n),i.b("			<ul>\r"),i.b("\n"+n),i.s(i.f("children",t,e,1),t,e,0,140,186,"{{ }}")&&(i.rs(t,e,function(t,e,n){n.b('				<li data-id="'),n.b(n.v(n.f("id",t,e,0))),n.b('">'),n.b(n.v(n.f("name",t,e,0))),n.b("</li>\r"),n.b("\n")}),t.pop()),i.b("			</ul>\r"),i.b("\n"+n),i.b("		</div>\r"),i.b("\n")}),t.pop()),i.b("</div>"),i.fl()})})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([26]))};e.amd=!0,e([25],function(t){var e=function(t){this.config=$.extend({parent:!1},t),this.init()},n=function(t){for(var e=[],n=[],i={},r=0;r<t.length;r++)t[r].disabled||(1===t[r].level&&(e.push(t[r]),i[t[r].id]=t[r]),2===t[r].level&&t[r].parent&&n.push(t[r]));for(r=0;r<n.length;r++)i[n[r].parent]&&(i[n[r].parent].children=i[n[r].parent].children||[],i[n[r].parent].children.push(n[r]));return e};return $.extend(e.prototype,{init:function(){this.dom=$('<div class="set-item"><label>选择二级导航</label></div><div class="set-item"><label>显示行数</label><input type="text" value="10" /><p>*如果会两列显示会自动把条数X2保证行数</p></div>').appendTo(this.config.parent),this.numberInput=this.dom.find("input"),this.current=!1,$.ajax({url:"/api/category/tree",success:$.proxy(function(t){if(t.status&&t.data){var e=n(t.data);this.render(e)}},this)})},render:function(e){this.dom.eq(0).append(t.render({list:e})),this.initEvents()},remove:function(){this.dom.remove()},val:function(t){return arguments.length&&arguments[0]&&(this.current=t.id||!1,this.numberInput.val(t.rows||10)),{rows:parseInt(this.numberInput.val(),10)||10,id:this.current}},initEvents:function(){var t=this.dom.find("[data-id]"),e=this;t.bind("click",function(){t.removeClass("checked"),$(this).addClass("checked"),e.current=$(this).data("id")}),this.current&&t.filter('[data-id="'+this.current+'"]').addClass("checked")}}),{name:"二级列表",key:"sublist",module:e}})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([27]))};e.amd=!0,e([20,22,24,26],function(t,e,n,i){var r=function(t){this.config=$.extend({module:!1,layouts:!1},t),this.init()};return r.modules=[],r.add=function(t){this.map[t.key]=t.module,this.modules.push(t)},r.map={},r.add(e),r.add(n),r.add(i),$.extend(r.prototype,{init:function(){this.dom=$(t.render($.extend({modules:r.modules},this.config))),this.titleInput=this.dom.find("input.name"),this.subTitleInput=this.dom.find("input.sub-name"),this.hideTitle=this.dom.find("input.hide-name"),
this.typeSelect=this.dom.find("select.type"),this.layoutSelect=this.dom.find("select.layouts"),this.panel=this.dom.find(".panel"),this.get(this.config.module)},show:function(){this.dom.appendTo(document.body),this.initEvents()},get:function(t){if(t){var e=0;this.typeSelect.find("option").each(function(n){$(this).attr("value")===String(t.type)&&(e=n)}),this.typeSelect[0].selectedIndex=e,e&&this.typeSelect.attr("disabled",!0);var n=0;this.layoutSelect.find("option").each(function(e){$(this).attr("value")===String(t.layout)&&(n=e)}),this.layoutSelect[0].selectedIndex=n}else this.typeSelect[0].typeSelectedIndex=0,this.dom.find(".remove").hide();return this},getData:function(){var t={title:$.trim(this.titleInput.val()),type:this.typeSelect.val(),layout:this.layoutSelect.val(),subTitle:$.trim(this.subTitleInput.val()),hideTitle:this.hideTitle[0].checked};if(!t.title)return{error:"请填写title"};if(!t.type)return{error:"请选择模块类型"};if(!t.layout)return{error:"请选择模块位置"};var e=this.current.val();return e.error?e:(t.data=e,t)},initEvents:function(){this.typeSelect.bind("change",$.proxy(function(){var t=this.typeSelect.val();this.current&&(this.current.remove(),this.current=!1),t&&(this.current=new r.map[t]({parent:this.panel}),this.config.module&&this.current.val(this.config.module.data))},this)).trigger("change"),this.dom.find(".save").bind("click",$.proxy(function(){var t=this.getData();if(t.error)return alert(t.error);var e=!0,n=!1;this.config.module?$.ajax({url:"/api/home/config/module/update",data:{id:this.config.module.id,module:JSON.stringify(t)},type:"post",success:function(t){t.status&&t.data&&(e=!1,n=t.data)},complete:$.proxy(function(){e?alert("保存失败"):(this.dom.remove(),this.config.onsave&&this.config.onsave(n))},this)}):$.ajax({url:"/api/home/config/module/new",data:{module:JSON.stringify(t)},type:"post",success:function(t){t.status&&t.data&&(e=!1,n=t.data)},complete:$.proxy(function(){e?alert("创建失败"):(this.dom.remove(),this.config.onsave&&this.config.onsave(n))},this)})},this)),this.dom.find(".close,.cancel").bind("click",$.proxy(function(){this.dom.remove()},this)),this.dom.find(".remove").bind("click",$.proxy(function(){if(window.confirm("点击确定将删除此模块")){var t=!0;$.ajax({url:"/api/home/config/module/remove",data:{id:this.config.module.id},success:function(e){e.status&&e.data&&(t=!1)},complete:$.proxy(function(){t?alert("删除失败"):(this.dom.remove(),this.config.onremove&&this.config.onremove())},this)})}},this))}}),r})}(define),function(t){var e=function(){return t.apply(this,Array.prototype.slice.call(arguments,0).concat([28]))};e.amd=!0,e([2,7,14,17,19,27],function(t,e,n,i,r,o){var s=$("#panel"),a=function(t){var e=this;this.level=t,this.dom=$('<div class="win-item" data-level="'+t+'"></div>'),this.dom.bind("click",function(e){var n=$(e.target).attr("class");if("m-menu"==n||"win-item"==n){for(var i=t;i<c.current.length;i++)c.current[i]&&c.current[i].unactive&&(c.current[i].unactive(),c.current[i]=!1);a.clean(t+1)}}),a.clean(t,function(){e.show()})};a.clean=function(t,e){var n=$([]),i=0;$(".win-item").each(function(){$(this).data("level")>=t&&n.push(this),i++}),n.length?(s.attr("class","win l"+i+"to"+(i-n.length)),setTimeout(function(){n.remove(),s.attr("class","win"),e&&e()},350)):e&&e()},$.extend(a.prototype,{show:function(){var t=$(".win-item").length;s.attr("class","win l"+t+"to"+(t+1)),this.dom.appendTo(s)},remove:function(){a.clean(this.level)}});var c={init:function(t){if(this.checkMobile(),this.mobile)this.dom=$('<div class="win-item"></div>').appendTo(s);else{var n=new a(0);this.dom=n.dom}var i=this,r=function(t){var e={name:t.name,deep:!0,onclick:function(){i.showCategory(t,this)},oninput:function(e){this.loading();var n=this,i=!0;$.ajax({url:"/api/category/update",data:{name:e,id:t.id},type:"post",success:function(r){r.status&&(i=!1,t.name=e,n.reset(),n.text(e),n.loaded())},complete:$.proxy(function(){i&&alert("重命名失败"),n.reset()},this)})},scrollMenu:[{name:"重命名",cls:"rename",click:function(){this.input()}},{name:"删除",cls:"remove",click:function(){if(confirm("删除该导航会删除导航下的所有内容")){var e=!0,n=this;n.loading(),$.ajax({url:"/api/category/remove",data:{id:t.id},success:function(t){t.status&&(e=!1,n.remove())},complete:function(){e&&(alert("删除失败"),n.loaded())}})}}}]};return t.key&&(e.key=t.key),e},o=new e({dialog:!1,menu:{api:"/api/category",render:function(t){var e=[];return i.mobile||e.push({key:"home",name:"首页管理",deep:!0,onclick:function(){i.showHome(this)}}),e.push({description:!0,text:"Category"}),$.each(t||[],function(){this.disabled||e.push(r(this))}),e.push({key:"add",name:"+ 增加一级导航",icon:"add",input:!0,oninput:function(t){this.loading();var e=this,n=!0;$.ajax({url:"/api/category/new",data:{name:t},type:"post",success:function(t){if(t.status){n=!1;var i=t.data,s="c."+(new Date).valueOf();o.insertBefore(r({key:s,name:i.name,id:i.id}),e),e.reset(),o.item(s).click()}else t.error&&(n=t.error)},complete:$.proxy(function(){n&&(alert("string"==typeof n?n:"增加一级导航失败"),e.reset())},this)})},onclick:function(){this.input()}}),e.push({description:!0,text:"修改后若不手动同步, 服务器重启后会自动同步"}),e.push({name:"同步导航到生产环境",onclick:function(){var t=this;t.loading(),$.ajax({url:"/api/category/sync",success:function(t){t.status&&alert("同步完成, 界面的更新会在几分钟内完成, 请耐心")},complete:function(){t.loaded()}})}}),e}},parent:this.dom});this.menu=o},checkMobile:function(){/(iPhone|iPod|Android|ios|iPad)/i.test(window.navigator.userAgent)?($(document.body).addClass("mobile"),this.mobile=!0):($(document.body).addClass("web"),$(window).bind("resize",function(){var t=$(".header").height();$(".content").height($(window).height()-t)}).trigger("resize"))},showHome:function(t){this.current[0]&&this.current[0].unactive(),this.current[0]=t,this.current[0].active();var n=!1,i=!1;this.mobile?n={title:d.name,back:"设置"}:i=new a(1);var o=new r({parent:i.dom}),s="";"manage.syhgf.com"===window.location.host&&(s="http://www.syhgf.com"),i.dom.append('<div class="preview-link"><a href="'+s+'/?preview" target="_blank">效果预览</a></div>');var c=this,u=[],l=new e({dialog:n,parent:i.dom,menu:{api:"/api/home/config",render:function(t){var e=[];return e.push({description:!0,text:"Sliders"}),e.push({name:"首页轮播图设置 ( 1400 X 560 )",sliders:t.sliders,onclick:function(){c.updateSlider(this)}}),e.push({name:"轮播图切换间隔",deep:!0,deepText:t.sliderInterval+"秒",sliders:t.sliders,onclick:function(){var e=this;c.updateSliderInterval(this,t,function(t){e.loading();var n=!0;$.ajax({url:"/api/home/sliders/interval",data:{interval:t},success:function(i){i.status&&i.data&&(n=!1,e.deepText(t+"秒"))},complete:function(){n&&alert("设置切换间隔失败"),e.loaded()}})})}}),e.push({description:!0,text:"Layouts"}),$.each(t.layouts||[],function(){u.push(this),e.push(c.newLayout(this,l,o))}),e.push({name:"添加一列",onclick:function(){var t=this;t.loading();var e=!0;$.ajax({url:"/api/home/config/grid/new",success:function(n){if(n.status&&n.data){e=!1,u.push(n.data);var i=c.newLayout(n.data,l,o);l.insertBefore(i,t),l.item(i.key).click()}},complete:function(){e&&alert("添加列失败"),t.loaded()}})}}),e.push({description:!0,text:"Modules"}),$.each(t.modules||[],function(){var t=this;e.push({name:this.title,deep:!0,deepText:"列"+c.getLayout(t.layout).key,onclick:function(){c.showModule(t,this)}})}),e.push({name:"添加模块",onclick:function(){c.addModule(this,l)}}),e.push({description:!0,text:"修改后若不手动同步, 服务器重启后会自动同步"}),e.push({name:"现在同步到首页",cls:"save",onclick:function(){var t=this;t.loading(),$.ajax({url:"/api/home/config/sync",success:function(t){t.status&&alert("同步完成")},complete:function(){t.loaded()}})}}),e}},parent:i.dom});this.layouts=u},getLayout:function(t){for(var e=0;e<this.layouts.length;e++)if(String(this.layouts[e].id)===String(t))return this.layouts[e];return{key:"未知"}},addModule:function(t,e){var n=this;new o({layouts:this.layouts,onsave:function(i){e.insertBefore({name:i.title,deep:!0,deepText:"列"+n.getLayout(i.layout).key,onclick:function(){n.showModule(i,this)}},t)}}).show()},showModule:function(t,e){new o({layouts:this.layouts,module:t,onsave:function(n){$.extend(t,n),e.text(n.title)},onremove:function(){e.remove()}}).show()},newLayout:function(t,e,n){var i=n.addColumn(t),r=this,o="col."+t.id,s={key:o,name:"列"+t.key,deep:!0,deepText:t.width?"宽度:"+t.width+"格":"选择宽度",onclick:function(){var e=this;r.chooseWidth(this,i.width(),function(n){e.loading();var o=!0;"remove"===n?$.ajax({url:"/api/home/config/grid/remove",data:{id:t.id},success:function(n){if(n.status&&n.data){o=!1,i.remove(),e.remove();for(var s=0;s<r.layouts.length;s++)if(r.layouts[s]===t)return void r.layouts.splice(s,1)}},complete:function(){o&&(alert("删除失败"),e.loaded())}}):$.ajax({url:"/api/home/config/grid/width",data:{width:n,id:t.id},success:function(r){r.status&&r.data&&(o=!1,t.width=n,e.deepText("宽度:"+n+"格"),i.width(n))},complete:function(){o&&alert("设置失败"),e.loaded()}})})}};return s},chooseWidth:function(t,n,i){this.current[1]&&this.current[1].unactive(),this.current[1]=t,this.current[1].active();var r=!1,o=!1;this.mobile?r={back:"首页设置",title:"设置列宽"}:o=new a(2);for(var s=[],c=this,u=4;21>u;u++)s.push({name:u,checked:n==u,onclick:function(){i(this.data.name),t.unactive(),c.mobile?history.back():a.clean(2)}});s.push(!1),s.push({name:"删除此列",cls:"remove",onclick:function(){window.confirm("点击确定将删除此布局列")&&(i("remove"),c.mobile?history.back():a.clean(2))}}),new e({dialog:r,menu:s,parent:o.dom})},updateSlider:function(t){new i({title:"首页轮播图设置",width:"240px",height:"150px",multi:!0,getter:function(e){e(t.data.sliders)},setter:function(e,n,i){var r=!0;$.ajax({url:"/api/home/sliders/update",data:{sliders:JSON.stringify(e)},type:"post",success:function(t){t.status?r=!1:t.error&&(r=t.error)},complete:function(){r?i(r):(t.data.sliders=e,n())}})}})},updateSliderInterval:function(t,n,i){this.current[1]&&this.current[1].unactive(),this.current[1]=t,this.current[1].active();for(var r=new a(2),o=[],s=this,c=6;21>c;c+=2)o.push({name:c,checked:n.sliderInterval==c,onclick:function(){i(this.data.name),t.unactive(),s.mobile?history.back():a.clean(2)}});new e({dialog:!1,menu:o,parent:r.dom})},current:[],showCategory:function(t,n){this.current[0]&&this.current[0].unactive(),this.current[0]=n,this.current[0].active();var r=t.id,o=this,s=t,c=!1,u=!1;this.mobile?c={title:t.name,back:"设置"}:u=new a(1);var l=function(t){var e={name:t.name,deep:!0,onclick:function(){o.showSub(t,this,s)},oninput:function(e){this.loading();var n=this,i=!0;$.ajax({url:"/api/category/update",data:{name:e,id:t.id},type:"post",success:function(r){r.status&&(i=!1,t.name=e,n.reset(),n.text(e),n.loaded())},complete:$.proxy(function(){i&&alert("重命名失败"),n.reset()},this)})},scrollMenu:[{name:"重命名",cls:"rename",click:function(){this.input()}},{name:"删除",cls:"remove",click:function(){if(confirm("删除该导航会删除导航下的所有内容")){var e=!0,n=this;n.loading(),$.ajax({url:"/api/category/remove",data:{id:t.id},success:function(t){t.status&&(e=!1,n.remove())},complete:function(){e&&(alert("删除失败"),n.loaded())}})}}}]};return t.key&&(e.key=t.key),e},d=new e({dialog:c,parent:u.dom,menu:{api:"/api/category/sub",data:{id:r},render:function(e){var a=[];return $.each(e||[],function(){if(!this.disabled){a.push(l(this))}}),a.push({key:"add",name:"+ 增加二级导航",icon:"add",input:!0,oninput:function(t){this.loading();var e=this,n=!0;$.ajax({url:"/api/category/new",data:{name:t,parent:r},type:"post",success:function(t){if(t.status){n=!1;var i=t.data,r="c."+(new Date).valueOf();d.insertBefore(l({key:r,name:i.name,id:i.id}),e),e.reset(),d.item(r).click()}else t.error&&(n=t.error)},complete:$.proxy(function(){n&&(alert("string"==typeof n?n:"增加二级导航失败"),e.reset())},this)})},onclick:function(){this.input()}}),a.push({description:!0,text:"Thumbnail"}),a.push({name:"查看/设置标志图",deep:!0,deepText:s.image?"已设置":"未设置",onclick:function(){var t=this;new i({title:"一级导航 / "+s.name+" / 标志图",width:"240px",height:"150px",getter:function(t){t(s.image)},setter:function(e,n,i){var r=!0;$.ajax({url:"/api/category/update",data:{id:s.id,image:e},type:"post",success:function(t){t.status?r=!1:t.error&&(r=t.error)},complete:function(){r?i(r):(t.deepText("已设置"),s.image=e,n())}})}})}}),o.mobile||(a.push({description:!0,text:"Rename"}),a.push({key:"rename",name:"点击这里重命名",input:!0,oninput:function(e){this.loading();var i=this,o=!0;$.ajax({url:"/api/category/update",data:{name:e,id:r},type:"post",success:function(i){i.status&&(o=!1,t.name=e,n.text(e),d.title&&d.title(e))},complete:$.proxy(function(){o&&alert("重命名失败"),i.reset()},this)})},onclick:function(){this.input()}}),a.push(!1),a.push({key:"remove",name:"删除该一级导航",cls:"remove",onclick:function(){if(confirm("删除该导航会删除导航下的所有内容")){var t=!0;o.mobile?d.hide():u.remove(),n.loading(),$.ajax({url:"/api/category/remove",data:{id:r},success:function(e){e.status&&(t=!1,n.remove())},complete:function(){t&&(alert("删除失败"),n.loaded())}})}}})),a}}});this.mobile&&d.show()},showSub:function(t,n,r){var o=t.id,s=this,c=t;this.current[1]&&this.current[1].unactive(),this.current[1]=n,this.current[1].active();var u=!1,l=!1;this.mobile?u={title:t.name,back:r.name}:l=new a(2);var d=new e({dialog:u,parent:l.dom,menu:{api:"/api/articles",data:{id:o},render:function(e){var r=[];return r.push({description:!0,text:"启用后, 当前导航默认展示的内容为最后创建的文章"}),r.push({key:"single",name:"单文章模式",switcher:{on:t.single},onswitch:function(e){var n=!0;$.ajax({url:"/api/category/update",data:{single:e?1:0,id:t.id},type:"post",success:function(t){t.status&&t.data&&t.data.length&&t.data[0]&&(n=!1)},complete:function(){n&&alert("设置单文章模式失败")}})}}),r.push({description:!0,text:"Thumbnail"}),r.push({name:"查看/设置标志图",deep:!0,deepText:c.image?"已设置":"未设置",onclick:function(){var t=this;new i({title:"一级导航 / "+c.name+" / 标志图",width:"240px",height:"150px",getter:function(t){t(c.image)},setter:function(e,n,i){var r=!0;$.ajax({url:"/api/category/update",data:{id:c.id,image:e},type:"post",success:function(t){t.status?r=!1:t.error&&(r=t.error)},complete:function(){r?i(r):(t.deepText("已设置"),c.image=e,n())}})}})}}),s.mobile||(r.push({key:"rename",name:"点击这里重命名",input:!0,oninput:function(e){this.loading();var i=this,r=!0;$.ajax({url:"/api/category/update",data:{name:e,id:o},type:"post",success:function(i){i.status&&(r=!1,t.name=e,n.text(e),d.title&&d.title(e))},complete:$.proxy(function(){r&&alert("重命名失败"),i.reset()},this)})},onclick:function(){this.input()}}),r.push({key:"remove",name:"删除该二级导航",cls:"remove",onclick:function(){if(confirm("删除该导航会删除导航下的所有内容")){var t=!0;s.mobile?d.hide():l.remove(),n.loading(),$.ajax({url:"/api/category/remove",data:{id:o},success:function(e){e.status&&(t=!1,n.remove())},complete:function(){t&&(alert("删除失败"),n.loaded())}})}}})),r.push({description:!0,text:"Articles"}),r.push({name:"+ 增加文章",onclick:function(){s.showArticle(!1,this,o,d)}}),$.each(e||[],function(){var t=this;r.push(s.newArticle(t,o,d))}),r}}});this.mobile&&d.show()},newArticle:function(t,e,n){var i=this;return{name:t.title,onclick:function(){i.showArticle(t,this,e,n)},scrollMenu:[{name:"删除",cls:"remove",remove:function(){if(window.confirm("点击确认将会删除这篇文章")){var e=this;e.loading();var n=!0;$.ajax({url:"/api/article/remove",data:{id:t.id},success:$.proxy(function(t){t.status&&(n=!1,e.remove())},this),complete:$.proxy(function(){n&&(alert("删除失败"),e.loaded())},this)})}}}]}},showArticle:function(t,e,i,r){var o=this;new n({trigger:e,category:i,data:t,onsave:function(n){t&&t.id?($.extend(t,n),e.text(t.title)):r.insertAfter(o.newArticle(n,i,r),e)},onremove:function(){e.remove()}})}};return c.init()})}(define);